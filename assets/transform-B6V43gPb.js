import{V as H,aj as Be,Q as Ke,ak as ae,a3 as Y,al as se,am as st,an as ut,ao as br,ap as Mr,r as lt}from"./index-voVAQxyZ.js";import{u as tt,a as Er}from"./react-three-fiber.esm-BrSCth1a.js";function he(){return he=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},he.apply(null,arguments)}var Ar=Object.defineProperty,kr=(t,e,r)=>e in t?Ar(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nr=(t,e,r)=>(kr(t,e+"",r),r);class Pr{constructor(){Nr(this,"_listeners")}addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(r)===-1&&n[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(r);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}var Tr=Object.defineProperty,Sr=(t,e,r)=>e in t?Tr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,y=(t,e,r)=>(Sr(t,typeof e!="symbol"?e+"":e,r),r);const Rt=new br,We=new Mr,Or=Math.cos(70*(Math.PI/180)),Ge=(t,e)=>(t%e+e)%e;let Cr=class extends Pr{constructor(e,r){super(),y(this,"object"),y(this,"domElement"),y(this,"enabled",!0),y(this,"target",new H),y(this,"minDistance",0),y(this,"maxDistance",1/0),y(this,"minZoom",0),y(this,"maxZoom",1/0),y(this,"minPolarAngle",0),y(this,"maxPolarAngle",Math.PI),y(this,"minAzimuthAngle",-1/0),y(this,"maxAzimuthAngle",1/0),y(this,"enableDamping",!1),y(this,"dampingFactor",.05),y(this,"enableZoom",!0),y(this,"zoomSpeed",1),y(this,"enableRotate",!0),y(this,"rotateSpeed",1),y(this,"enablePan",!0),y(this,"panSpeed",1),y(this,"screenSpacePanning",!0),y(this,"keyPanSpeed",7),y(this,"zoomToCursor",!1),y(this,"autoRotate",!1),y(this,"autoRotateSpeed",2),y(this,"reverseOrbit",!1),y(this,"reverseHorizontalOrbit",!1),y(this,"reverseVerticalOrbit",!1),y(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),y(this,"mouseButtons",{LEFT:st.ROTATE,MIDDLE:st.DOLLY,RIGHT:st.PAN}),y(this,"touches",{ONE:ut.ROTATE,TWO:ut.DOLLY_PAN}),y(this,"target0"),y(this,"position0"),y(this,"zoom0"),y(this,"_domElementKeyEvents",null),y(this,"getPolarAngle"),y(this,"getAzimuthalAngle"),y(this,"setPolarAngle"),y(this,"setAzimuthalAngle"),y(this,"getDistance"),y(this,"getZoomScale"),y(this,"listenToKeyEvents"),y(this,"stopListenToKeyEvents"),y(this,"saveState"),y(this,"reset"),y(this,"update"),y(this,"connect"),y(this,"dispose"),y(this,"dollyIn"),y(this,"dollyOut"),y(this,"getScale"),y(this,"setScale"),this.object=e,this.domElement=r,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=f=>{let m=Ge(f,2*Math.PI),w=c.phi;w<0&&(w+=2*Math.PI),m<0&&(m+=2*Math.PI);let k=Math.abs(m-w);2*Math.PI-k<k&&(m<w?m+=2*Math.PI:w+=2*Math.PI),d.phi=m-w,n.update()},this.setAzimuthalAngle=f=>{let m=Ge(f,2*Math.PI),w=c.theta;w<0&&(w+=2*Math.PI),m<0&&(m+=2*Math.PI);let k=Math.abs(m-w);2*Math.PI-k<k&&(m<w?m+=2*Math.PI:w+=2*Math.PI),d.theta=m-w,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=f=>{f.addEventListener("keydown",ie),this._domElementKeyEvents=f},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ie),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),u=s.NONE},this.update=(()=>{const f=new H,m=new H(0,1,0),w=new Ke().setFromUnitVectors(e.up,m),k=w.clone().invert(),R=new H,B=new Ke,J=2*Math.PI;return function(){const Ze=n.object.position;w.setFromUnitVectors(e.up,m),k.copy(w).invert(),f.copy(Ze).sub(n.target),f.applyQuaternion(w),c.setFromVector3(f),n.autoRotate&&u===s.NONE&&q(C()),n.enableDamping?(c.theta+=d.theta*n.dampingFactor,c.phi+=d.phi*n.dampingFactor):(c.theta+=d.theta,c.phi+=d.phi);let K=n.minAzimuthAngle,W=n.maxAzimuthAngle;isFinite(K)&&isFinite(W)&&(K<-Math.PI?K+=J:K>Math.PI&&(K-=J),W<-Math.PI?W+=J:W>Math.PI&&(W-=J),K<=W?c.theta=Math.max(K,Math.min(W,c.theta)):c.theta=c.theta>(K+W)/2?Math.max(K,c.theta):Math.min(W,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(p,n.dampingFactor):n.target.add(p),n.zoomToCursor&&D||n.object.isOrthographicCamera?c.radius=ne(c.radius):c.radius=ne(c.radius*h),f.setFromSpherical(c),f.applyQuaternion(k),Ze.copy(n.target).add(f),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(d.theta*=1-n.dampingFactor,d.phi*=1-n.dampingFactor,p.multiplyScalar(1-n.dampingFactor)):(d.set(0,0,0),p.set(0,0,0));let yt=!1;if(n.zoomToCursor&&D){let wt=null;if(n.object instanceof se&&n.object.isPerspectiveCamera){const _t=f.length();wt=ne(_t*h);const Ct=_t-wt;n.object.position.addScaledVector(I,Ct),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const _t=new H(O.x,O.y,0);_t.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix(),yt=!0;const Ct=new H(O.x,O.y,0);Ct.unproject(n.object),n.object.position.sub(Ct).add(_t),n.object.updateMatrixWorld(),wt=f.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;wt!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(wt).add(n.object.position):(Rt.origin.copy(n.object.position),Rt.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(Rt.direction))<Or?e.lookAt(n.target):(We.setFromNormalAndCoplanarPoint(n.object.up,n.target),Rt.intersectPlane(We,n.target))))}else n.object instanceof ae&&n.object.isOrthographicCamera&&(yt=h!==1,yt&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix()));return h=1,D=!1,yt||R.distanceToSquared(n.object.position)>l||8*(1-B.dot(n.object.quaternion))>l?(n.dispatchEvent(i),R.copy(n.object.position),B.copy(n.object.quaternion),yt=!1,!0):!1}})(),this.connect=f=>{n.domElement=f,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",qe),n.domElement.addEventListener("pointerdown",je),n.domElement.addEventListener("pointercancel",gt),n.domElement.addEventListener("wheel",Ve)},this.dispose=()=>{var f,m,w,k,R,B;n.domElement&&(n.domElement.style.touchAction="auto"),(f=n.domElement)==null||f.removeEventListener("contextmenu",qe),(m=n.domElement)==null||m.removeEventListener("pointerdown",je),(w=n.domElement)==null||w.removeEventListener("pointercancel",gt),(k=n.domElement)==null||k.removeEventListener("wheel",Ve),(R=n.domElement)==null||R.ownerDocument.removeEventListener("pointermove",re),(B=n.domElement)==null||B.ownerDocument.removeEventListener("pointerup",gt),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",ie)};const n=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=s.NONE;const l=1e-6,c=new Be,d=new Be;let h=1;const p=new H,g=new Y,_=new Y,M=new Y,A=new Y,T=new Y,N=new Y,S=new Y,x=new Y,E=new Y,I=new H,O=new Y;let D=!1;const b=[],v={};function C(){return 2*Math.PI/60/60*n.autoRotateSpeed}function P(){return Math.pow(.95,n.zoomSpeed)}function q(f){n.reverseOrbit||n.reverseHorizontalOrbit?d.theta+=f:d.theta-=f}function mt(f){n.reverseOrbit||n.reverseVerticalOrbit?d.phi+=f:d.phi-=f}const et=(()=>{const f=new H;return function(w,k){f.setFromMatrixColumn(k,0),f.multiplyScalar(-w),p.add(f)}})(),nt=(()=>{const f=new H;return function(w,k){n.screenSpacePanning===!0?f.setFromMatrixColumn(k,1):(f.setFromMatrixColumn(k,0),f.crossVectors(n.object.up,f)),f.multiplyScalar(w),p.add(f)}})(),z=(()=>{const f=new H;return function(w,k){const R=n.domElement;if(R&&n.object instanceof se&&n.object.isPerspectiveCamera){const B=n.object.position;f.copy(B).sub(n.target);let J=f.length();J*=Math.tan(n.object.fov/2*Math.PI/180),et(2*w*J/R.clientHeight,n.object.matrix),nt(2*k*J/R.clientHeight,n.object.matrix)}else R&&n.object instanceof ae&&n.object.isOrthographicCamera?(et(w*(n.object.right-n.object.left)/n.object.zoom/R.clientWidth,n.object.matrix),nt(k*(n.object.top-n.object.bottom)/n.object.zoom/R.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function $(f){n.object instanceof se&&n.object.isPerspectiveCamera||n.object instanceof ae&&n.object.isOrthographicCamera?h=f:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Ot(f){$(h/f)}function ee(f){$(h*f)}function Ie(f){if(!n.zoomToCursor||!n.domElement)return;D=!0;const m=n.domElement.getBoundingClientRect(),w=f.clientX-m.left,k=f.clientY-m.top,R=m.width,B=m.height;O.x=w/R*2-1,O.y=-(k/B)*2+1,I.set(O.x,O.y,1).unproject(n.object).sub(n.object.position).normalize()}function ne(f){return Math.max(n.minDistance,Math.min(n.maxDistance,f))}function De(f){g.set(f.clientX,f.clientY)}function ar(f){Ie(f),S.set(f.clientX,f.clientY)}function Le(f){A.set(f.clientX,f.clientY)}function sr(f){_.set(f.clientX,f.clientY),M.subVectors(_,g).multiplyScalar(n.rotateSpeed);const m=n.domElement;m&&(q(2*Math.PI*M.x/m.clientHeight),mt(2*Math.PI*M.y/m.clientHeight)),g.copy(_),n.update()}function ur(f){x.set(f.clientX,f.clientY),E.subVectors(x,S),E.y>0?Ot(P()):E.y<0&&ee(P()),S.copy(x),n.update()}function lr(f){T.set(f.clientX,f.clientY),N.subVectors(T,A).multiplyScalar(n.panSpeed),z(N.x,N.y),A.copy(T),n.update()}function cr(f){Ie(f),f.deltaY<0?ee(P()):f.deltaY>0&&Ot(P()),n.update()}function fr(f){let m=!1;switch(f.code){case n.keys.UP:z(0,n.keyPanSpeed),m=!0;break;case n.keys.BOTTOM:z(0,-n.keyPanSpeed),m=!0;break;case n.keys.LEFT:z(n.keyPanSpeed,0),m=!0;break;case n.keys.RIGHT:z(-n.keyPanSpeed,0),m=!0;break}m&&(f.preventDefault(),n.update())}function $e(){if(b.length==1)g.set(b[0].pageX,b[0].pageY);else{const f=.5*(b[0].pageX+b[1].pageX),m=.5*(b[0].pageY+b[1].pageY);g.set(f,m)}}function Fe(){if(b.length==1)A.set(b[0].pageX,b[0].pageY);else{const f=.5*(b[0].pageX+b[1].pageX),m=.5*(b[0].pageY+b[1].pageY);A.set(f,m)}}function ze(){const f=b[0].pageX-b[1].pageX,m=b[0].pageY-b[1].pageY,w=Math.sqrt(f*f+m*m);S.set(0,w)}function hr(){n.enableZoom&&ze(),n.enablePan&&Fe()}function dr(){n.enableZoom&&ze(),n.enableRotate&&$e()}function He(f){if(b.length==1)_.set(f.pageX,f.pageY);else{const w=oe(f),k=.5*(f.pageX+w.x),R=.5*(f.pageY+w.y);_.set(k,R)}M.subVectors(_,g).multiplyScalar(n.rotateSpeed);const m=n.domElement;m&&(q(2*Math.PI*M.x/m.clientHeight),mt(2*Math.PI*M.y/m.clientHeight)),g.copy(_)}function Ye(f){if(b.length==1)T.set(f.pageX,f.pageY);else{const m=oe(f),w=.5*(f.pageX+m.x),k=.5*(f.pageY+m.y);T.set(w,k)}N.subVectors(T,A).multiplyScalar(n.panSpeed),z(N.x,N.y),A.copy(T)}function Xe(f){const m=oe(f),w=f.pageX-m.x,k=f.pageY-m.y,R=Math.sqrt(w*w+k*k);x.set(0,R),E.set(0,Math.pow(x.y/S.y,n.zoomSpeed)),Ot(E.y),S.copy(x)}function pr(f){n.enableZoom&&Xe(f),n.enablePan&&Ye(f)}function mr(f){n.enableZoom&&Xe(f),n.enableRotate&&He(f)}function je(f){var m,w;n.enabled!==!1&&(b.length===0&&((m=n.domElement)==null||m.ownerDocument.addEventListener("pointermove",re),(w=n.domElement)==null||w.ownerDocument.addEventListener("pointerup",gt)),xr(f),f.pointerType==="touch"?wr(f):gr(f))}function re(f){n.enabled!==!1&&(f.pointerType==="touch"?_r(f):yr(f))}function gt(f){var m,w,k;vr(f),b.length===0&&((m=n.domElement)==null||m.releasePointerCapture(f.pointerId),(w=n.domElement)==null||w.ownerDocument.removeEventListener("pointermove",re),(k=n.domElement)==null||k.ownerDocument.removeEventListener("pointerup",gt)),n.dispatchEvent(a),u=s.NONE}function gr(f){let m;switch(f.button){case 0:m=n.mouseButtons.LEFT;break;case 1:m=n.mouseButtons.MIDDLE;break;case 2:m=n.mouseButtons.RIGHT;break;default:m=-1}switch(m){case st.DOLLY:if(n.enableZoom===!1)return;ar(f),u=s.DOLLY;break;case st.ROTATE:if(f.ctrlKey||f.metaKey||f.shiftKey){if(n.enablePan===!1)return;Le(f),u=s.PAN}else{if(n.enableRotate===!1)return;De(f),u=s.ROTATE}break;case st.PAN:if(f.ctrlKey||f.metaKey||f.shiftKey){if(n.enableRotate===!1)return;De(f),u=s.ROTATE}else{if(n.enablePan===!1)return;Le(f),u=s.PAN}break;default:u=s.NONE}u!==s.NONE&&n.dispatchEvent(o)}function yr(f){if(n.enabled!==!1)switch(u){case s.ROTATE:if(n.enableRotate===!1)return;sr(f);break;case s.DOLLY:if(n.enableZoom===!1)return;ur(f);break;case s.PAN:if(n.enablePan===!1)return;lr(f);break}}function Ve(f){n.enabled===!1||n.enableZoom===!1||u!==s.NONE&&u!==s.ROTATE||(f.preventDefault(),n.dispatchEvent(o),cr(f),n.dispatchEvent(a))}function ie(f){n.enabled===!1||n.enablePan===!1||fr(f)}function wr(f){switch(Ue(f),b.length){case 1:switch(n.touches.ONE){case ut.ROTATE:if(n.enableRotate===!1)return;$e(),u=s.TOUCH_ROTATE;break;case ut.PAN:if(n.enablePan===!1)return;Fe(),u=s.TOUCH_PAN;break;default:u=s.NONE}break;case 2:switch(n.touches.TWO){case ut.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;hr(),u=s.TOUCH_DOLLY_PAN;break;case ut.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;dr(),u=s.TOUCH_DOLLY_ROTATE;break;default:u=s.NONE}break;default:u=s.NONE}u!==s.NONE&&n.dispatchEvent(o)}function _r(f){switch(Ue(f),u){case s.TOUCH_ROTATE:if(n.enableRotate===!1)return;He(f),n.update();break;case s.TOUCH_PAN:if(n.enablePan===!1)return;Ye(f),n.update();break;case s.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;pr(f),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;mr(f),n.update();break;default:u=s.NONE}}function qe(f){n.enabled!==!1&&f.preventDefault()}function xr(f){b.push(f)}function vr(f){delete v[f.pointerId];for(let m=0;m<b.length;m++)if(b[m].pointerId==f.pointerId){b.splice(m,1);return}}function Ue(f){let m=v[f.pointerId];m===void 0&&(m=new Y,v[f.pointerId]=m),m.set(f.pageX,f.pageY)}function oe(f){const m=f.pointerId===b[0].pointerId?b[1]:b[0];return v[m.pointerId]}this.dollyIn=(f=P())=>{ee(f),n.update()},this.dollyOut=(f=P())=>{Ot(f),n.update()},this.getScale=()=>h,this.setScale=f=>{$(f),n.update()},this.getZoomScale=()=>P(),r!==void 0&&this.connect(r),this.update()}};const Qs=lt.forwardRef(({makeDefault:t,camera:e,regress:r,domElement:n,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:u,...l},c)=>{const d=tt(E=>E.invalidate),h=tt(E=>E.camera),p=tt(E=>E.gl),g=tt(E=>E.events),_=tt(E=>E.setEvents),M=tt(E=>E.set),A=tt(E=>E.get),T=tt(E=>E.performance),N=e||h,S=n||g.connected||p.domElement,x=lt.useMemo(()=>new Cr(N),[N]);return Er(()=>{x.enabled&&x.update()},-1),lt.useEffect(()=>(o&&x.connect(o===!0?S:o),x.connect(S),()=>void x.dispose()),[o,S,r,x,d]),lt.useEffect(()=>{const E=D=>{d(),r&&T.regress(),a&&a(D)},I=D=>{s&&s(D)},O=D=>{u&&u(D)};return x.addEventListener("change",E),x.addEventListener("start",I),x.addEventListener("end",O),()=>{x.removeEventListener("start",I),x.removeEventListener("end",O),x.removeEventListener("change",E)}},[a,s,u,x,d,_]),lt.useEffect(()=>{if(t){const E=A().controls;return M({controls:x}),()=>M({controls:E})}},[t,x]),lt.createElement("primitive",he({ref:c,object:x,enableDamping:i},l))});function Ft(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rr(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nn(t){let e,r,n;t.length!==2?(e=Ft,r=(s,u)=>Ft(t(s),u),n=(s,u)=>t(s)-u):(e=t===Ft||t===Rr?t:Ir,r=t,n=t);function i(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const d=l+c>>>1;r(s[d],u)<0?l=d+1:c=d}while(l<c)}return l}function o(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const d=l+c>>>1;r(s[d],u)<=0?l=d+1:c=d}while(l<c)}return l}function a(s,u,l=0,c=s.length){const d=i(s,u,l,c-1);return d>l&&n(s[d-1],u)>-n(s[d],u)?d-1:d}return{left:i,center:a,right:o}}function Ir(){return 0}function Dr(t){return t===null?NaN:+t}const Lr=Nn(Ft),$r=Lr.right;Nn(Dr).center;class Qe extends Map{constructor(e,r=Hr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Je(this,e))}has(e){return super.has(Je(this,e))}set(e,r){return super.set(Fr(this,e),r)}delete(e){return super.delete(zr(this,e))}}function Je({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Fr({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function zr({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Hr(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Yr=Math.sqrt(50),Xr=Math.sqrt(10),jr=Math.sqrt(2);function Xt(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=Yr?10:o>=Xr?5:o>=jr?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=r&&r<2?Xt(t,e,r*2):[s,u,l]}function de(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,a]=n?Xt(e,t,r):Xt(t,e,r);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(n)if(a<0)for(let l=0;l<s;++l)u[l]=(o-l)/-a;else for(let l=0;l<s;++l)u[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)u[l]=(i+l)/-a;else for(let l=0;l<s;++l)u[l]=(i+l)*a;return u}function pe(t,e,r){return e=+e,t=+t,r=+r,Xt(t,e,r)[2]}function Vr(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?pe(e,t,r):pe(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Js(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function qr(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Ur(t){return t}var ue=1,le=2,me=3,vt=4,tn=1e-6;function Zr(t){return"translate("+t+",0)"}function Br(t){return"translate(0,"+t+")"}function Kr(t){return e=>+t(e)}function Wr(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function Gr(){return!this.__axis}function Pn(t,e){var r=[],n=null,i=null,o=6,a=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===ue||t===vt?-1:1,c=t===vt||t===le?"x":"y",d=t===ue||t===me?Zr:Br;function h(p){var g=n??(e.ticks?e.ticks.apply(e,r):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,r):Ur),M=Math.max(o,0)+s,A=e.range(),T=+A[0]+u,N=+A[A.length-1]+u,S=(e.bandwidth?Wr:Kr)(e.copy(),u),x=p.selection?p.selection():p,E=x.selectAll(".domain").data([null]),I=x.selectAll(".tick").data(g,e).order(),O=I.exit(),D=I.enter().append("g").attr("class","tick"),b=I.select("line"),v=I.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(D),b=b.merge(D.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),v=v.merge(D.append("text").attr("fill","currentColor").attr(c,l*M).attr("dy",t===ue?"0em":t===me?"0.71em":"0.32em")),p!==x&&(E=E.transition(p),I=I.transition(p),b=b.transition(p),v=v.transition(p),O=O.transition(p).attr("opacity",tn).attr("transform",function(C){return isFinite(C=S(C))?d(C+u):this.getAttribute("transform")}),D.attr("opacity",tn).attr("transform",function(C){var P=this.parentNode.__axis;return d((P&&isFinite(P=P(C))?P:S(C))+u)})),O.remove(),E.attr("d",t===vt||t===le?a?"M"+l*a+","+T+"H"+u+"V"+N+"H"+l*a:"M"+u+","+T+"V"+N:a?"M"+T+","+l*a+"V"+u+"H"+N+"V"+l*a:"M"+T+","+u+"H"+N),I.attr("opacity",1).attr("transform",function(C){return d(S(C)+u)}),b.attr(c+"2",l*o),v.attr(c,l*M).text(_),x.filter(Gr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===le?"start":t===vt?"end":"middle"),x.each(function(){this.__axis=S})}return h.scale=function(p){return arguments.length?(e=p,h):e},h.ticks=function(){return r=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),h):r.slice()},h.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),h):n&&n.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(o=a=+p,h):o},h.tickSizeInner=function(p){return arguments.length?(o=+p,h):o},h.tickSizeOuter=function(p){return arguments.length?(a=+p,h):a},h.tickPadding=function(p){return arguments.length?(s=+p,h):s},h.offset=function(p){return arguments.length?(u=+p,h):u},h}function tu(t){return Pn(me,t)}function eu(t){return Pn(vt,t)}var Qr={value:()=>{}};function Tn(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new zt(r)}function zt(t){this._=t}function Jr(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}zt.prototype=Tn.prototype={constructor:zt,on:function(t,e){var r=this._,n=Jr(t+"",r),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(t=n[o]).type)&&(i=ti(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=n[o]).type)r[i]=en(r[i],t.name,e);else if(e==null)for(i in r)r[i]=en(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new zt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,i=o.length;n<i;++n)o[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};function ti(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function en(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=Qr,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var ge="http://www.w3.org/1999/xhtml";const nn={svg:"http://www.w3.org/2000/svg",xhtml:ge,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gt(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),nn.hasOwnProperty(e)?{space:nn[e],local:t}:t}function ei(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===ge&&e.documentElement.namespaceURI===ge?e.createElement(t):e.createElementNS(r,t)}}function ni(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Sn(t){var e=Gt(t);return(e.local?ni:ei)(e)}function ri(){}function Ee(t){return t==null?ri:function(){return this.querySelector(t)}}function ii(t){typeof t!="function"&&(t=Ee(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],a=o.length,s=n[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new F(n,this._parents)}function oi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ai(){return[]}function On(t){return t==null?ai:function(){return this.querySelectorAll(t)}}function si(t){return function(){return oi(t.apply(this,arguments))}}function ui(t){typeof t=="function"?t=si(t):t=On(t);for(var e=this._groups,r=e.length,n=[],i=[],o=0;o<r;++o)for(var a=e[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(n.push(t.call(u,u.__data__,l,a)),i.push(u));return new F(n,i)}function Cn(t){return function(){return this.matches(t)}}function Rn(t){return function(e){return e.matches(t)}}var li=Array.prototype.find;function ci(t){return function(){return li.call(this.children,t)}}function fi(){return this.firstElementChild}function hi(t){return this.select(t==null?fi:ci(typeof t=="function"?t:Rn(t)))}var di=Array.prototype.filter;function pi(){return Array.from(this.children)}function mi(t){return function(){return di.call(this.children,t)}}function gi(t){return this.selectAll(t==null?pi:mi(typeof t=="function"?t:Rn(t)))}function yi(t){typeof t!="function"&&(t=Cn(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],a=o.length,s=n[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new F(n,this._parents)}function In(t){return new Array(t.length)}function wi(){return new F(this._enter||this._groups.map(In),this._parents)}function jt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}jt.prototype={constructor:jt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _i(t){return function(){return t}}function xi(t,e,r,n,i,o){for(var a=0,s,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],n[a]=s):r[a]=new jt(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function vi(t,e,r,n,i,o,a){var s,u,l=new Map,c=e.length,d=o.length,h=new Array(c),p;for(s=0;s<c;++s)(u=e[s])&&(h[s]=p=a.call(u,u.__data__,s,e)+"",l.has(p)?i[s]=u:l.set(p,u));for(s=0;s<d;++s)p=a.call(t,o[s],s,o)+"",(u=l.get(p))?(n[s]=u,u.__data__=o[s],l.delete(p)):r[s]=new jt(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(h[s])===u&&(i[s]=u)}function bi(t){return t.__data__}function Mi(t,e){if(!arguments.length)return Array.from(this,bi);var r=e?vi:xi,n=this._parents,i=this._groups;typeof t!="function"&&(t=_i(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=n[l],d=i[l],h=d.length,p=Ei(t.call(c,c&&c.__data__,l,n)),g=p.length,_=s[l]=new Array(g),M=a[l]=new Array(g),A=u[l]=new Array(h);r(c,d,_,M,A,p,e);for(var T=0,N=0,S,x;T<g;++T)if(S=_[T]){for(T>=N&&(N=T+1);!(x=M[N])&&++N<g;);S._next=x||null}}return a=new F(a,n),a._enter=s,a._exit=u,a}function Ei(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ai(){return new F(this._exit||this._groups.map(In),this._parents)}function ki(t,e,r){var n=this.enter(),i=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function Ni(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l=r[u],c=n[u],d=l.length,h=s[u]=new Array(d),p,g=0;g<d;++g)(p=l[g]||c[g])&&(h[g]=p);for(;u<i;++u)s[u]=r[u];return new F(s,this._parents)}function Pi(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,o=n[i],a;--i>=0;)(a=n[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ti(t){t||(t=Si);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a=r[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(e)}return new F(i,this._parents).order()}function Si(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Oi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ci(){return Array.from(this)}function Ri(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null}function Ii(){let t=0;for(const e of this)++t;return t}function Di(){return!this.node()}function Li(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function $i(t){return function(){this.removeAttribute(t)}}function Fi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zi(t,e){return function(){this.setAttribute(t,e)}}function Hi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Yi(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Xi(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function ji(t,e){var r=Gt(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Fi:$i:typeof e=="function"?r.local?Xi:Yi:r.local?Hi:zi)(r,e))}function Dn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Vi(t){return function(){this.style.removeProperty(t)}}function qi(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Ui(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Zi(t,e,r){return arguments.length>1?this.each((e==null?Vi:typeof e=="function"?Ui:qi)(t,e,r??"")):ht(this.node(),t)}function ht(t,e){return t.style.getPropertyValue(e)||Dn(t).getComputedStyle(t,null).getPropertyValue(e)}function Bi(t){return function(){delete this[t]}}function Ki(t,e){return function(){this[t]=e}}function Wi(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Gi(t,e){return arguments.length>1?this.each((e==null?Bi:typeof e=="function"?Wi:Ki)(t,e)):this.node()[t]}function Ln(t){return t.trim().split(/^|\s+/)}function Ae(t){return t.classList||new $n(t)}function $n(t){this._node=t,this._names=Ln(t.getAttribute("class")||"")}$n.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Fn(t,e){for(var r=Ae(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function zn(t,e){for(var r=Ae(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function Qi(t){return function(){Fn(this,t)}}function Ji(t){return function(){zn(this,t)}}function to(t,e){return function(){(e.apply(this,arguments)?Fn:zn)(this,t)}}function eo(t,e){var r=Ln(t+"");if(arguments.length<2){for(var n=Ae(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?to:e?Qi:Ji)(r,e))}function no(){this.textContent=""}function ro(t){return function(){this.textContent=t}}function io(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function oo(t){return arguments.length?this.each(t==null?no:(typeof t=="function"?io:ro)(t)):this.node().textContent}function ao(){this.innerHTML=""}function so(t){return function(){this.innerHTML=t}}function uo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function lo(t){return arguments.length?this.each(t==null?ao:(typeof t=="function"?uo:so)(t)):this.node().innerHTML}function co(){this.nextSibling&&this.parentNode.appendChild(this)}function fo(){return this.each(co)}function ho(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function po(){return this.each(ho)}function mo(t){var e=typeof t=="function"?t:Sn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function go(){return null}function yo(t,e){var r=typeof t=="function"?t:Sn(t),n=e==null?go:typeof e=="function"?e:Ee(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function wo(){var t=this.parentNode;t&&t.removeChild(this)}function _o(){return this.each(wo)}function xo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bo(t){return this.select(t?vo:xo)}function Mo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Eo(t){return function(e){t.call(this,e,this.__data__)}}function Ao(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function ko(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,o;r<i;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function No(t,e,r){return function(){var n=this.__on,i,o=Eo(e);if(n){for(var a=0,s=n.length;a<s;++a)if((i=n[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=e;return}}this.addEventListener(t.type,o,r),i={type:t.type,name:t.name,value:e,listener:o,options:r},n?n.push(i):this.__on=[i]}}function Po(t,e,r){var n=Ao(t+""),i,o=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=n[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?No:ko,i=0;i<o;++i)this.each(s(n[i],e,r));return this}function Hn(t,e,r){var n=Dn(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function To(t,e){return function(){return Hn(this,t,e)}}function So(t,e){return function(){return Hn(this,t,e.apply(this,arguments))}}function Oo(t,e){return this.each((typeof e=="function"?So:To)(t,e))}function*Co(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length,a;i<o;++i)(a=n[i])&&(yield a)}var Yn=[null];function F(t,e){this._groups=t,this._parents=e}function Tt(){return new F([[document.documentElement]],Yn)}function Ro(){return this}F.prototype=Tt.prototype={constructor:F,select:ii,selectAll:ui,selectChild:hi,selectChildren:gi,filter:yi,data:Mi,enter:wi,exit:Ai,join:ki,merge:Ni,selection:Ro,order:Pi,sort:Ti,call:Oi,nodes:Ci,node:Ri,size:Ii,empty:Di,each:Li,attr:ji,style:Zi,property:Gi,classed:eo,text:oo,html:lo,raise:fo,lower:po,append:mo,insert:yo,remove:_o,clone:bo,datum:Mo,on:Po,dispatch:Oo,[Symbol.iterator]:Co};function nu(t){return typeof t=="string"?new F([[document.querySelector(t)]],[document.documentElement]):new F([[t]],Yn)}function ke(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Xn(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function St(){}var At=.7,Vt=1/At,ft="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",U="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Io=/^#([0-9a-f]{3,8})$/,Do=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),Lo=new RegExp(`^rgb\\(${U},${U},${U}\\)$`),$o=new RegExp(`^rgba\\(${ft},${ft},${ft},${kt}\\)$`),Fo=new RegExp(`^rgba\\(${U},${U},${U},${kt}\\)$`),zo=new RegExp(`^hsl\\(${kt},${U},${U}\\)$`),Ho=new RegExp(`^hsla\\(${kt},${U},${U},${kt}\\)$`),rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ke(St,ot,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:on,formatHex:on,formatHex8:Yo,formatHsl:Xo,formatRgb:an,toString:an});function on(){return this.rgb().formatHex()}function Yo(){return this.rgb().formatHex8()}function Xo(){return jn(this).formatHsl()}function an(){return this.rgb().formatRgb()}function ot(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Io.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?sn(e):r===3?new L(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?It(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?It(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Do.exec(t))?new L(e[1],e[2],e[3],1):(e=Lo.exec(t))?new L(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$o.exec(t))?It(e[1],e[2],e[3],e[4]):(e=Fo.exec(t))?It(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zo.exec(t))?cn(e[1],e[2]/100,e[3]/100,1):(e=Ho.exec(t))?cn(e[1],e[2]/100,e[3]/100,e[4]):rn.hasOwnProperty(t)?sn(rn[t]):t==="transparent"?new L(NaN,NaN,NaN,0):null}function sn(t){return new L(t>>16&255,t>>8&255,t&255,1)}function It(t,e,r,n){return n<=0&&(t=e=r=NaN),new L(t,e,r,n)}function jo(t){return t instanceof St||(t=ot(t)),t?(t=t.rgb(),new L(t.r,t.g,t.b,t.opacity)):new L}function ye(t,e,r,n){return arguments.length===1?jo(t):new L(t,e,r,n??1)}function L(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}ke(L,ye,Xn(St,{brighter(t){return t=t==null?Vt:Math.pow(Vt,t),new L(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?At:Math.pow(At,t),new L(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new L(it(this.r),it(this.g),it(this.b),qt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:un,formatHex:un,formatHex8:Vo,formatRgb:ln,toString:ln}));function un(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}`}function Vo(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}${rt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ln(){const t=qt(this.opacity);return`${t===1?"rgb(":"rgba("}${it(this.r)}, ${it(this.g)}, ${it(this.b)}${t===1?")":`, ${t})`}`}function qt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function it(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rt(t){return t=it(t),(t<16?"0":"")+t.toString(16)}function cn(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new j(t,e,r,n)}function jn(t){if(t instanceof j)return new j(t.h,t.s,t.l,t.opacity);if(t instanceof St||(t=ot(t)),!t)return new j;if(t instanceof j)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-e)/s+2:a=(e-r)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new j(a,s,u,t.opacity)}function qo(t,e,r,n){return arguments.length===1?jn(t):new j(t,e,r,n??1)}function j(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ke(j,qo,Xn(St,{brighter(t){return t=t==null?Vt:Math.pow(Vt,t),new j(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?At:Math.pow(At,t),new j(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new L(ce(t>=240?t-240:t+120,i,n),ce(t,i,n),ce(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new j(fn(this.h),Dt(this.s),Dt(this.l),qt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qt(this.opacity);return`${t===1?"hsl(":"hsla("}${fn(this.h)}, ${Dt(this.s)*100}%, ${Dt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fn(t){return t=(t||0)%360,t<0?t+360:t}function Dt(t){return Math.max(0,Math.min(1,t||0))}function ce(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Ne=t=>()=>t;function Uo(t,e){return function(r){return t+r*e}}function Zo(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Bo(t){return(t=+t)==1?Vn:function(e,r){return r-e?Zo(e,r,t):Ne(isNaN(e)?r:e)}}function Vn(t,e){var r=e-t;return r?Uo(t,r):Ne(isNaN(t)?e:t)}const Ut=function t(e){var r=Bo(e);function n(i,o){var a=r((i=ye(i)).r,(o=ye(o)).r),s=r(i.g,o.g),u=r(i.b,o.b),l=Vn(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return n.gamma=t,n}(1);function Ko(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function Wo(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Go(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=Pe(t[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function Qo(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function X(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Jo(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Pe(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var we=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fe=new RegExp(we.source,"g");function ta(t){return function(){return t}}function ea(t){return function(e){return t(e)+""}}function qn(t,e){var r=we.lastIndex=fe.lastIndex=0,n,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(n=we.exec(t))&&(i=fe.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:X(n,i)})),r=fe.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?ea(u[0].x):ta(e):(e=u.length,function(l){for(var c=0,d;c<e;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}function Pe(t,e){var r=typeof e,n;return e==null||r==="boolean"?Ne(e):(r==="number"?X:r==="string"?(n=ot(e))?(e=n,Ut):qn:e instanceof ot?Ut:e instanceof Date?Qo:Wo(e)?Ko:Array.isArray(e)?Go:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Jo:X)(t,e)}function na(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var hn=180/Math.PI,_e={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Un(t,e,r,n,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*r+e*n)&&(r-=t*u,n-=e*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),t*n<e*r&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*hn,skewX:Math.atan(u)*hn,scaleX:a,scaleY:s}}var Lt;function ra(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_e:Un(e.a,e.b,e.c,e.d,e.e,e.f)}function ia(t){return t==null||(Lt||(Lt=document.createElementNS("http://www.w3.org/2000/svg","g")),Lt.setAttribute("transform",t),!(t=Lt.transform.baseVal.consolidate()))?_e:(t=t.matrix,Un(t.a,t.b,t.c,t.d,t.e,t.f))}function Zn(t,e,r,n){function i(l){return l.length?l.pop()+" ":""}function o(l,c,d,h,p,g){if(l!==d||c!==h){var _=p.push("translate(",null,e,null,r);g.push({i:_-4,x:X(l,d)},{i:_-2,x:X(c,h)})}else(d||h)&&p.push("translate("+d+e+h+r)}function a(l,c,d,h){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),h.push({i:d.push(i(d)+"rotate(",null,n)-2,x:X(l,c)})):c&&d.push(i(d)+"rotate("+c+n)}function s(l,c,d,h){l!==c?h.push({i:d.push(i(d)+"skewX(",null,n)-2,x:X(l,c)}):c&&d.push(i(d)+"skewX("+c+n)}function u(l,c,d,h,p,g){if(l!==d||c!==h){var _=p.push(i(p)+"scale(",null,",",null,")");g.push({i:_-4,x:X(l,d)},{i:_-2,x:X(c,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(l,c){var d=[],h=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,d,h),a(l.rotate,c.rotate,d,h),s(l.skewX,c.skewX,d,h),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,h),l=c=null,function(p){for(var g=-1,_=h.length,M;++g<_;)d[(M=h[g]).i]=M.x(p);return d.join("")}}}var oa=Zn(ra,"px, ","px)","deg)"),aa=Zn(ia,", ",")",")"),dt=0,bt=0,xt=0,Bn=1e3,Zt,Mt,Bt=0,at=0,Qt=0,Nt=typeof performance=="object"&&performance.now?performance:Date,Kn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Te(){return at||(Kn(sa),at=Nt.now()+Qt)}function sa(){at=0}function Kt(){this._call=this._time=this._next=null}Kt.prototype=Wn.prototype={constructor:Kt,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Te():+r)+(e==null?0:+e),!this._next&&Mt!==this&&(Mt?Mt._next=this:Zt=this,Mt=this),this._call=t,this._time=r,xe()},stop:function(){this._call&&(this._call=null,this._time=1/0,xe())}};function Wn(t,e,r){var n=new Kt;return n.restart(t,e,r),n}function ua(){Te(),++dt;for(var t=Zt,e;t;)(e=at-t._time)>=0&&t._call.call(void 0,e),t=t._next;--dt}function dn(){at=(Bt=Nt.now())+Qt,dt=bt=0;try{ua()}finally{dt=0,ca(),at=0}}function la(){var t=Nt.now(),e=t-Bt;e>Bn&&(Qt-=e,Bt=t)}function ca(){for(var t,e=Zt,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Zt=r);Mt=t,xe(n)}function xe(t){if(!dt){bt&&(bt=clearTimeout(bt));var e=t-at;e>24?(t<1/0&&(bt=setTimeout(dn,t-Nt.now()-Qt)),xt&&(xt=clearInterval(xt))):(xt||(Bt=Nt.now(),xt=setInterval(la,Bn)),dt=1,Kn(dn))}}function pn(t,e,r){var n=new Kt;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var fa=Tn("start","end","cancel","interrupt"),ha=[],Gn=0,mn=1,ve=2,Ht=3,gn=4,be=5,Yt=6;function Jt(t,e,r,n,i,o){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;da(t,r,{name:e,index:n,group:i,on:fa,tween:ha,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Gn})}function Se(t,e){var r=V(t,e);if(r.state>Gn)throw new Error("too late; already scheduled");return r}function Z(t,e){var r=V(t,e);if(r.state>Ht)throw new Error("too late; already running");return r}function V(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function da(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=Wn(o,0,r.time);function o(l){r.state=mn,r.timer.restart(a,r.delay,r.time),r.delay<=l&&a(l-r.delay)}function a(l){var c,d,h,p;if(r.state!==mn)return u();for(c in n)if(p=n[c],p.name===r.name){if(p.state===Ht)return pn(a);p.state===gn?(p.state=Yt,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[c]):+c<e&&(p.state=Yt,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[c])}if(pn(function(){r.state===Ht&&(r.state=gn,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=ve,r.on.call("start",t,t.__data__,r.index,r.group),r.state===ve){for(r.state=Ht,i=new Array(h=r.tween.length),c=0,d=-1;c<h;++c)(p=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(i[++d]=p);i.length=d+1}}function s(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=be,1),d=-1,h=i.length;++d<h;)i[d].call(t,c);r.state===be&&(r.on.call("end",t,t.__data__,r.index,r.group),u())}function u(){r.state=Yt,r.timer.stop(),delete n[e];for(var l in n)return;delete t.__transition}}function pa(t,e){var r=t.__transition,n,i,o=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){o=!1;continue}i=n.state>ve&&n.state<be,n.state=Yt,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}o&&delete t.__transition}}function ma(t){return this.each(function(){pa(this,t)})}function ga(t,e){var r,n;return function(){var i=Z(this,t),o=i.tween;if(o!==r){n=r=o;for(var a=0,s=n.length;a<s;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function ya(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Z(this,t),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:e,value:r},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function wa(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=V(this.node(),r).tween,i=0,o=n.length,a;i<o;++i)if((a=n[i]).name===t)return a.value;return null}return this.each((e==null?ga:ya)(r,t,e))}function Oe(t,e,r){var n=t._id;return t.each(function(){var i=Z(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return V(i,n).value[e]}}function Qn(t,e){var r;return(typeof e=="number"?X:e instanceof ot?Ut:(r=ot(e))?(e=r,Ut):qn)(t,e)}function _a(t){return function(){this.removeAttribute(t)}}function xa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function va(t,e,r){var n,i=r+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===n?o:o=e(n=a,r)}}function ba(t,e,r){var n,i=r+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===n?o:o=e(n=a,r)}}function Ma(t,e,r){var n,i,o;return function(){var a,s=r(this),u;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=s+"",a===u?null:a===n&&u===i?o:(i=u,o=e(n=a,s)))}}function Ea(t,e,r){var n,i,o;return function(){var a,s=r(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=s+"",a===u?null:a===n&&u===i?o:(i=u,o=e(n=a,s)))}}function Aa(t,e){var r=Gt(t),n=r==="transform"?aa:Qn;return this.attrTween(t,typeof e=="function"?(r.local?Ea:Ma)(r,n,Oe(this,"attr."+t,e)):e==null?(r.local?xa:_a)(r):(r.local?ba:va)(r,n,e))}function ka(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Na(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Pa(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&Na(t,o)),r}return i._value=e,i}function Ta(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&ka(t,o)),r}return i._value=e,i}function Sa(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=Gt(t);return this.tween(r,(n.local?Pa:Ta)(n,e))}function Oa(t,e){return function(){Se(this,t).delay=+e.apply(this,arguments)}}function Ca(t,e){return e=+e,function(){Se(this,t).delay=e}}function Ra(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Oa:Ca)(e,t)):V(this.node(),e).delay}function Ia(t,e){return function(){Z(this,t).duration=+e.apply(this,arguments)}}function Da(t,e){return e=+e,function(){Z(this,t).duration=e}}function La(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ia:Da)(e,t)):V(this.node(),e).duration}function $a(t,e){if(typeof e!="function")throw new Error;return function(){Z(this,t).ease=e}}function Fa(t){var e=this._id;return arguments.length?this.each($a(e,t)):V(this.node(),e).ease}function za(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Z(this,t).ease=r}}function Ha(t){if(typeof t!="function")throw new Error;return this.each(za(this._id,t))}function Ya(t){typeof t!="function"&&(t=Cn(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],a=o.length,s=n[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new Q(n,this._parents,this._name,this._id)}function Xa(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var u=e[s],l=r[s],c=u.length,d=a[s]=new Array(c),h,p=0;p<c;++p)(h=u[p]||l[p])&&(d[p]=h);for(;s<n;++s)a[s]=e[s];return new Q(a,this._parents,this._name,this._id)}function ja(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Va(t,e,r){var n,i,o=ja(e)?Se:Z;return function(){var a=o(this,t),s=a.on;s!==n&&(i=(n=s).copy()).on(e,r),a.on=i}}function qa(t,e){var r=this._id;return arguments.length<2?V(this.node(),r).on.on(t):this.each(Va(r,t,e))}function Ua(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Za(){return this.on("end.remove",Ua(this._id))}function Ba(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Ee(t));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s=n[a],u=s.length,l=o[a]=new Array(u),c,d,h=0;h<u;++h)(c=s[h])&&(d=t.call(c,c.__data__,h,s))&&("__data__"in c&&(d.__data__=c.__data__),l[h]=d,Jt(l[h],e,r,h,l,V(c,r)));return new Q(o,this._parents,e,r)}function Ka(t){var e=this._name,r=this._id;typeof t!="function"&&(t=On(t));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var u=n[s],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var h=t.call(c,c.__data__,d,u),p,g=V(c,r),_=0,M=h.length;_<M;++_)(p=h[_])&&Jt(p,e,r,_,h,g);o.push(h),a.push(c)}return new Q(o,a,e,r)}var Wa=Tt.prototype.constructor;function Ga(){return new Wa(this._groups,this._parents)}function Qa(t,e){var r,n,i;return function(){var o=ht(this,t),a=(this.style.removeProperty(t),ht(this,t));return o===a?null:o===r&&a===n?i:i=e(r=o,n=a)}}function Jn(t){return function(){this.style.removeProperty(t)}}function Ja(t,e,r){var n,i=r+"",o;return function(){var a=ht(this,t);return a===i?null:a===n?o:o=e(n=a,r)}}function ts(t,e,r){var n,i,o;return function(){var a=ht(this,t),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),ht(this,t))),a===u?null:a===n&&u===i?o:(i=u,o=e(n=a,s))}}function es(t,e){var r,n,i,o="style."+e,a="end."+o,s;return function(){var u=Z(this,t),l=u.on,c=u.value[o]==null?s||(s=Jn(e)):void 0;(l!==r||i!==c)&&(n=(r=l).copy()).on(a,i=c),u.on=n}}function ns(t,e,r){var n=(t+="")=="transform"?oa:Qn;return e==null?this.styleTween(t,Qa(t,n)).on("end.style."+t,Jn(t)):typeof e=="function"?this.styleTween(t,ts(t,n,Oe(this,"style."+t,e))).each(es(this._id,t)):this.styleTween(t,Ja(t,n,e),r).on("end.style."+t,null)}function rs(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function is(t,e,r){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&rs(t,a,r)),n}return o._value=e,o}function os(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,is(t,e,r??""))}function as(t){return function(){this.textContent=t}}function ss(t){return function(){var e=t(this);this.textContent=e??""}}function us(t){return this.tween("text",typeof t=="function"?ss(Oe(this,"text",t)):as(t==null?"":t+""))}function ls(t){return function(e){this.textContent=t.call(this,e)}}function cs(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&ls(i)),e}return n._value=t,n}function fs(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,cs(t))}function hs(){for(var t=this._name,e=this._id,r=tr(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=V(u,e);Jt(u,t,r,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Q(n,this._parents,t,r)}function ds(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};r.each(function(){var l=Z(this,n),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),i===0&&o()})}var ps=0;function Q(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function tr(){return++ps}var G=Tt.prototype;Q.prototype={constructor:Q,select:Ba,selectAll:Ka,selectChild:G.selectChild,selectChildren:G.selectChildren,filter:Ya,merge:Xa,selection:Ga,transition:hs,call:G.call,nodes:G.nodes,node:G.node,size:G.size,empty:G.empty,each:G.each,on:qa,attr:Aa,attrTween:Sa,style:ns,styleTween:os,text:us,textTween:fs,remove:Za,tween:wa,delay:Ra,duration:La,ease:Fa,easeVarying:Ha,end:ds,[Symbol.iterator]:G[Symbol.iterator]};function ru(t){return--t*t*t+1}function ms(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var gs={time:null,delay:0,duration:250,ease:ms};function ys(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function ws(t){var e,r;t instanceof Q?(e=t._id,t=t._name):(e=tr(),(r=gs).time=Te(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&Jt(u,t,e,l,a,r||ys(u,e));return new Q(n,this._parents,t,e)}Tt.prototype.interrupt=ma;Tt.prototype.transition=ws;function _s(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wt(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function pt(t){return t=Wt(Math.abs(t)),t?t[1]:NaN}function xs(t,e){return function(r,n){for(var i=r.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),o.push(r.substring(i-=s,i+s)),!((u+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function vs(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var bs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pt(t){if(!(e=bs.exec(t)))throw new Error("invalid format: "+t);var e;return new Ce({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Pt.prototype=Ce.prototype;function Ce(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ce.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ms(t){t:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var er;function Es(t,e){var r=Wt(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(er=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Wt(t,Math.max(0,e+o-1))[0]}function yn(t,e){var r=Wt(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const wn={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_s,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yn(t*100,e),r:yn,s:Es,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _n(t){return t}var xn=Array.prototype.map,vn=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function As(t){var e=t.grouping===void 0||t.thousands===void 0?_n:xs(xn.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?_n:vs(xn.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(d){d=Pt(d);var h=d.fill,p=d.align,g=d.sign,_=d.symbol,M=d.zero,A=d.width,T=d.comma,N=d.precision,S=d.trim,x=d.type;x==="n"?(T=!0,x="g"):wn[x]||(N===void 0&&(N=12),S=!0,x="g"),(M||h==="0"&&p==="=")&&(M=!0,h="0",p="=");var E=_==="$"?r:_==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",I=_==="$"?n:/[%p]/.test(x)?a:"",O=wn[x],D=/[defgprs%]/.test(x);N=N===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function b(v){var C=E,P=I,q,mt,et;if(x==="c")P=O(v)+P,v="";else{v=+v;var nt=v<0||1/v<0;if(v=isNaN(v)?u:O(Math.abs(v),N),S&&(v=Ms(v)),nt&&+v==0&&g!=="+"&&(nt=!1),C=(nt?g==="("?g:s:g==="-"||g==="("?"":g)+C,P=(x==="s"?vn[8+er/3]:"")+P+(nt&&g==="("?")":""),D){for(q=-1,mt=v.length;++q<mt;)if(et=v.charCodeAt(q),48>et||et>57){P=(et===46?i+v.slice(q+1):v.slice(q))+P,v=v.slice(0,q);break}}}T&&!M&&(v=e(v,1/0));var z=C.length+v.length+P.length,$=z<A?new Array(A-z+1).join(h):"";switch(T&&M&&(v=e($+v,$.length?A-P.length:1/0),$=""),p){case"<":v=C+v+P+$;break;case"=":v=C+$+v+P;break;case"^":v=$.slice(0,z=$.length>>1)+C+v+P+$.slice(z);break;default:v=$+C+v+P;break}return o(v)}return b.toString=function(){return d+""},b}function c(d,h){var p=l((d=Pt(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(pt(h)/3)))*3,_=Math.pow(10,-g),M=vn[8+g/3];return function(A){return p(_*A)+M}}return{format:l,formatPrefix:c}}var $t,Re,nr;ks({thousands:",",grouping:[3],currency:["$",""]});function ks(t){return $t=As(t),Re=$t.format,nr=$t.formatPrefix,$t}function Ns(t){return Math.max(0,-pt(Math.abs(t)))}function Ps(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pt(e)/3)))*3-pt(Math.abs(t)))}function Ts(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pt(e)-pt(t))+1}function te(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function iu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bn=Symbol("implicit");function rr(){var t=new Qe,e=[],r=[],n=bn;function i(o){let a=t.get(o);if(a===void 0){if(n!==bn)return n;t.set(o,a=e.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Qe;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return rr(e,r).unknown(n)},te.apply(i,arguments),i}function Ss(){var t=rr().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,a,s=!1,u=0,l=0,c=.5;delete t.unknown;function d(){var h=e().length,p=i<n,g=p?i:n,_=p?n:i;o=(_-g)/Math.max(1,h-u+l*2),s&&(o=Math.floor(o)),g+=(_-g-o*(h-u))*c,a=o*(1-u),s&&(g=Math.round(g),a=Math.round(a));var M=qr(h).map(function(A){return g+o*A});return r(p?M.reverse():M)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(u=Math.min(1,l=+h),d()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),d()):u},t.paddingOuter=function(h){return arguments.length?(l=+h,d()):l},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Ss(e(),[n,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},te.apply(d(),arguments)}function Os(t){return function(){return t}}function Cs(t){return+t}var Mn=[0,1];function ct(t){return t}function Me(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Os(isNaN(e)?NaN:.5)}function Rs(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Is(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=Me(i,n),o=r(a,o)):(n=Me(n,i),o=r(o,a)),function(s){return o(n(s))}}function Ds(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=Me(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(s){var u=$r(t,s,1,n)-1;return o[u](i[u](s))}}function ir(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function or(){var t=Mn,e=Mn,r=Pe,n,i,o,a=ct,s,u,l;function c(){var h=Math.min(t.length,e.length);return a!==ct&&(a=Rs(t[0],t[h-1])),s=h>2?Ds:Is,u=l=null,d}function d(h){return h==null||isNaN(h=+h)?o:(u||(u=s(t.map(n),e,r)))(n(a(h)))}return d.invert=function(h){return a(i((l||(l=s(e,t.map(n),X)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Cs),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=na,c()},d.clamp=function(h){return arguments.length?(a=h?!0:ct,c()):a!==ct},d.interpolate=function(h){return arguments.length?(r=h,c()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,i=p,c()}}function Ls(){return or()(ct,ct)}function $s(t,e,r,n){var i=Vr(t,e,r),o;switch(n=Pt(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=Ps(i,a))&&(n.precision=o),nr(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Ts(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Ns(i))&&(n.precision=o-(n.type==="%")*2);break}}return Re(n)}function Fs(t){var e=t.domain;return t.ticks=function(r){var n=e();return de(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return $s(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,a=n[i],s=n[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=pe(a,s,r),l===u)return n[i]=a,n[o]=s,e(n);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function zs(){var t=Ls();return t.copy=function(){return ir(t,zs())},te.apply(t,arguments),Fs(t)}function Hs(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),t[r]=e.floor(i),t[n]=e.ceil(o),t}function En(t){return Math.log(t)}function An(t){return Math.exp(t)}function Ys(t){return-Math.log(-t)}function Xs(t){return-Math.exp(-t)}function js(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Vs(t){return t===10?js:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qs(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kn(t){return(e,r)=>-t(-e,r)}function Us(t){const e=t(En,An),r=e.domain;let n=10,i,o;function a(){return i=qs(n),o=Vs(n),r()[0]<0?(i=kn(i),o=kn(o),t(Ys,Xs)):t(En,An),e}return e.base=function(s){return arguments.length?(n=+s,a()):n},e.domain=function(s){return arguments.length?(r(s),a()):r()},e.ticks=s=>{const u=r();let l=u[0],c=u[u.length-1];const d=c<l;d&&([l,c]=[c,l]);let h=i(l),p=i(c),g,_;const M=s==null?10:+s;let A=[];if(!(n%1)&&p-h<M){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(g=1;g<n;++g)if(_=h<0?g/o(-h):g*o(h),!(_<l)){if(_>c)break;A.push(_)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(_=h>0?g/o(-h):g*o(h),!(_<l)){if(_>c)break;A.push(_)}A.length*2<M&&(A=de(l,c,M))}else A=de(h,p,Math.min(p-h,M)).map(o);return d?A.reverse():A},e.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Pt(u)).precision==null&&(u.trim=!0),u=Re(u)),s===1/0)return u;const l=Math.max(1,n*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=l?u(c):""}},e.nice=()=>r(Hs(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Zs(){const t=Us(or()).domain([1,10]);return t.copy=()=>ir(t,Zs()).base(t.base()),te.apply(t,arguments),t}function Et(t,e,r){this.k=t,this.x=e,this.y=r}Et.prototype={constructor:Et,scale:function(t){return t===1?this:new Et(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Et(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Et.prototype;export{Qs as O,he as _,ct as a,Zs as b,ir as c,Ss as d,ru as e,zs as f,tu as g,eu as h,te as i,Re as j,iu as k,Fs as l,Js as m,Pe as n,na as o,Ut as p,nu as s,or as t};
