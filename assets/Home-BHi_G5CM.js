import{r as a,C as Ge,V as Te,B as Z,j as e,A as Fe,a as ke,b as he,s as re,u as Ae,c as He,L as ze,d as Ye,e as Be,n as Xe}from"./index-XZ3gHdqT.js";import{u as Ne,a as q,C as Ve}from"./react-three-fiber.esm-C6U2ObIp.js";const T={DEGREES_TO_RADIANS:Math.PI/180,RADIANS_TO_DEGREES:180/Math.PI,FULL_CIRCLE:360,HALF_CIRCLE:180,QUARTER_CIRCLE:90,MILLISECONDS_PER_DAY:864e5,JULIAN_DATE_OFFSET:24405875e-1,J2000_JULIAN_DATE:2451545,JULIAN_CENTURIES_PER_CENTURY:36525,GMST_CONSTANT:280.46061837,GMST_RATE:360.98564736629,GMST_T_SQUARED_COEFF:387933e-9,GMST_T_CUBED_DIVISOR:3871e4,HOUR_ANGLE_MIN:-180,HOUR_ANGLE_MAX:180,MIN_MAGNITUDE:0,MAX_MAGNITUDE:20,MAGNITUDE_CLAMP_MIN:.1,MAGNITUDE_CLAMP_MAX:3,MAGNITUDE_SIZE_COEFFICIENT:2.5,MAGNITUDE_EXPONENT_DIVISOR:10,COORDINATE_DECIMAL_PLACES:2,DEFAULT_SPHERE_RADIUS:1,DEFAULT_STAR_RADIUS:100,HORIZON_ALTITUDE_THRESHOLD:-5,COSINE_MAX:1,COSINE_MIN:-1},We={O:5995775,B:8101887,A:13293567,F:16316415,G:16774378,K:16765601,M:16737860,L:13386786,T:10044586,Y:6697847},Se=16777215;function J(t){return t*T.DEGREES_TO_RADIANS}function fe(t){return t*T.RADIANS_TO_DEGREES}function Ze(t){return t.getTime()/T.MILLISECONDS_PER_DAY+T.JULIAN_DATE_OFFSET}function Ke(t){const s=Ze(t),n=(s-T.J2000_JULIAN_DATE)/T.JULIAN_CENTURIES_PER_CENTURY;let o=T.GMST_CONSTANT+T.GMST_RATE*(s-T.J2000_JULIAN_DATE)+T.GMST_T_SQUARED_COEFF*n*n-n*n*n/T.GMST_T_CUBED_DIVISOR;return o=(o%T.FULL_CIRCLE+T.FULL_CIRCLE)%T.FULL_CIRCLE,o}function Ce(t,s){return((Ke(t)+s)%T.FULL_CIRCLE+T.FULL_CIRCLE)%T.FULL_CIRCLE}function Me(t,s,n=new Date){const{ra:o,dec:r}=t,{latitude:c,longitude:i}=s;let d=Ce(n,i)-o;d<T.HOUR_ANGLE_MIN&&(d+=T.FULL_CIRCLE),d>T.HOUR_ANGLE_MAX&&(d-=T.FULL_CIRCLE);const I=J(d),u=J(r),m=J(c),E=Math.sin(u)*Math.sin(m)+Math.cos(u)*Math.cos(m)*Math.cos(I),A=fe(Math.asin(E)),N=(Math.sin(u)-Math.sin(J(A))*Math.sin(m))/(Math.cos(J(A))*Math.cos(m));let O;return Math.abs(N)>T.COSINE_MAX?O=N>0?0:T.HALF_CIRCLE:O=fe(Math.acos(Math.max(T.COSINE_MIN,Math.min(T.COSINE_MAX,N)))),Math.sin(I)>0&&(O=T.FULL_CIRCLE-O),{altitude:A,azimuth:O}}function $e(t,s=T.DEFAULT_SPHERE_RADIUS){const n=J(t.altitude),o=J(t.azimuth),r=Math.sin(n)*s,c=Math.cos(n)*s,i=-Math.sin(o)*c,h=-Math.cos(o)*c;return{x:i,y:r,z:h}}function Je(t,s,n,o=new Date,r=T.DEFAULT_STAR_RADIUS){const c=Me({ra:t,dec:s},n,o);return{...$e(c,r),visible:c.altitude>T.HORIZON_ALTITUDE_THRESHOLD}}function qe(t){if(!t)return Se;const s=t.charAt(0).toUpperCase();return We[s]??Se}function Qe(t){if(t===null||isNaN(t))return .5;const s=Math.max(T.MIN_MAGNITUDE,Math.min(T.MAX_MAGNITUDE,t)),n=T.MAGNITUDE_SIZE_COEFFICIENT*Math.pow(10,-s/T.MAGNITUDE_EXPONENT_DIVISOR);return Math.max(T.MAGNITUDE_CLAMP_MIN,Math.min(T.MAGNITUDE_CLAMP_MAX,n))}function et(t){const s=Math.abs(t),n=t>=0?"N":"S";return`${s.toFixed(T.COORDINATE_DECIMAL_PLACES)}°${n}`}function tt(t){const s=Math.abs(t),n=t>=0?"E":"W";return`${s.toFixed(T.COORDINATE_DECIMAL_PLACES)}°${n}`}function st(t){return`${t.toFixed(T.COORDINATE_DECIMAL_PLACES)}°`}function nt(t){return`${t.toFixed(T.COORDINATE_DECIMAL_PLACES)}°`}const Re={"New York":{latitude:40.7128,longitude:-74.006},London:{latitude:51.5074,longitude:-.1278},Tokyo:{latitude:35.6762,longitude:139.6503},Sydney:{latitude:-33.8688,longitude:151.2093},"São Paulo":{latitude:-23.5505,longitude:-46.6333},"Cape Town":{latitude:-33.9249,longitude:18.4241},"Rio de Janeiro":{latitude:-22.9068,longitude:-43.1729},Greenwich:{latitude:51.4772,longitude:0}},ot=15.04107;function at(t,s,n=new Date){const o=Ce(n,s.longitude);let r=t-o;r>T.HOUR_ANGLE_MAX&&(r-=T.FULL_CIRCLE),r<T.HOUR_ANGLE_MIN&&(r+=T.FULL_CIRCLE);const i=r/ot*36e5;return new Date(n.getTime()+i)}function rt(t,s,n,o=new Date){return T.QUARTER_CIRCLE-Math.abs(n.latitude-s)<T.HORIZON_ALTITUDE_THRESHOLD?null:at(t,n,o)}const X={EARTH_SPIN_DURATION:5e3,CAMERA_SWOOP_DURATION:2500,STARS_FADE_DURATION:2e3,WELCOME_CARD_DELAY:300,WELCOME_CARD_DISMISS_DURATION:300,LETTER_ANIMATION_DELAY:.25,PLANETS_LINE_START_OFFSET:3},U={BASE_RADIUS:580,SCALE_MULTIPLIER:.35,INITIAL_Z:-600,Z_MOVEMENT_DISTANCE:500,ROTATION_SPEED:.15,ATMOSPHERE_SCALE:1.05,ATMOSPHERE_OPACITY:.15,OUTER_GLOW_SCALE:1.12,OUTER_GLOW_OPACITY:.08,ATMOSPHERE_COLOR:4491519,OUTER_GLOW_COLOR:6728447},x={INITIAL_AZIMUTH:180,INITIAL_ALTITUDE:10,LOOKAT_DISTANCE:100,DRAG_SENSITIVITY:.3,MIN_ALTITUDE:-10,MAX_ALTITUDE:90,DEFAULT_CURSOR:"grab",DRAGGING_CURSOR:"grabbing"},ie={COUNT:3e3,SPHERE_RADIUS:800,POINT_SIZE:.8,COLOR:8947848,OPACITY_MULTIPLIER:.5},pe={STAR_DISTANCE:500,BASE_SCALE:20},Q={MIN_SPEED:.5,SPEED_MODULO:100,SPEED_DIVISOR:50,MIN_INTENSITY:.15,INTENSITY_MODULO:50,INTENSITY_DIVISOR:200},K={BASE_HIT_THRESHOLD:15,SIZE_SCALE_MULTIPLIER:.3,HOVER_LERP:.15,CLICK_DISTANCE_THRESHOLD:5,POINTER_CURSOR:"pointer",DEFAULT_CURSOR:"grab"},ce={MIN_INTERVAL_MS:5e3,MAX_INTERVAL_MS:12e3,MAX_ACTIVE:3,INITIAL_DELAY_MS:3e3},z={LIFETIME_S:20,BASE_SIZE:.8,ALTITUDE:80,SPEED:15,SPEED_MIN_FACTOR:.8,SPEED_VARIATION:.4,TUMBLE_X:.01,TUMBLE_Y:.02},ee={START_Y_BASE:10,START_Y_RANGE:40,START_Z_LOWER:.3,START_Z_RANGE:.7,DIR_Y_SCALE:.3,DIR_Z_SCALE:.5},te=[{name:"ISS",color:"#ffffff",size:1,panels:!0,spawnProbability:.15},{name:"Satellite",color:"#aaaaaa",size:.6,panels:!0,spawnProbability:.55},{name:"Debris",color:"#666666",size:.3,panels:!1,spawnProbability:.3}],k={BODY_HEIGHT_MULTIPLIER:.5,BODY_DEPTH_MULTIPLIER:.5,PANEL_X_OFFSET:.8,PANEL_WIDTH:.8,PANEL_THICKNESS:.05,PANEL_DEPTH:.4,PANEL_COLOR:"#1a3a5c"},V={ORBITAL_RADIUS:610,ANGULAR_VELOCITY:2*Math.PI/90,START_ANGLE:-Math.PI/2,ORBIT_DIRECTION:1,SIZE_MULTIPLIER:8,ROTATION_X:0,ROTATION_Y:5e-4},it={DURATION_MS:2e3},Le={INOUT_BACK_C1:1.70158,INOUT_BACK_C2_MULTIPLIER:1.525},g={RADIUS:580,POSITION_Y:-600,WIDTH_SEGMENTS:64,HEIGHT_SEGMENTS_SURFACE:64,HEIGHT_SEGMENTS_ATMOSPHERE:64,ATMOSPHERE_SCALE:1.02,FALLBACK_COLOR:8432354,SHADER_RETRY_DELAY_MS:100,ROTATION_LERP:.05},B={BACKGROUND_COLOR:"#000",BACKGROUND_COLOR_ALT:"#000000",CAMERA_FOV:60,CAMERA_NEAR:.1,CAMERA_FAR:2e3,CAMERA_INITIAL_X:0,CAMERA_INITIAL_Y:50,CAMERA_INITIAL_Z:400,AMBIENT_LIGHT_INTENSITY:.3};function ct(t){return t<te[0].spawnProbability?te[0]:t<te[0].spawnProbability+te[1].spawnProbability?te[1]:te[2]}function lt(){const s=document.createElement("canvas");s.width=128,s.height=128;const n=s.getContext("2d"),o=128/2;n.clearRect(0,0,128,128);const r=n.createRadialGradient(o,o,0,o,o,o);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.1,"rgba(255, 255, 255, 0.8)"),r.addColorStop(.3,"rgba(255, 255, 255, 0.3)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.1)"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=r,n.fillRect(0,0,128,128),n.save(),n.translate(o,o);for(let h=0;h<4;h++){n.rotate(Math.PI/2);const d=n.createLinearGradient(0,0,0,-o);d.addColorStop(0,"rgba(255, 255, 255, 0.8)"),d.addColorStop(.3,"rgba(255, 255, 255, 0.3)"),d.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=d,n.beginPath(),n.moveTo(-2,0),n.lineTo(0,-o*.9),n.lineTo(2,0),n.closePath(),n.fill()}n.restore();const c=n.createRadialGradient(o,o,0,o,o,128*.15);c.addColorStop(0,"rgba(255, 255, 255, 1)"),c.addColorStop(.5,"rgba(255, 255, 255, 0.8)"),c.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=c,n.fillRect(0,0,128,128);const i=new ke(s);return i.needsUpdate=!0,i}function ut(t){let s=0;for(let n=0;n<t.length;n++){const o=t.charCodeAt(n);s=(s<<5)-s+o,s=s&s}return Math.abs(s)}const dt=`
  attribute vec3 starColor;
  attribute float starSize;
  attribute float twinkleSpeed;
  attribute float twinklePhase;
  attribute float twinkleIntensity;
  attribute float isHovered;

  uniform float uTime;

  varying vec3 vColor;
  varying float vOpacity;

  void main() {
    vColor = starColor;

    // Subtle twinkle - very gentle brightness variation
    float twinkle = sin(uTime * twinkleSpeed * 0.3 + twinklePhase);
    float twinkleScale = 1.0 + twinkle * twinkleIntensity * 0.15;

    // Stable opacity - minimal twinkle effect
    float baseOpacity = isHovered > 0.5 ? 1.0 : 0.95;
    vOpacity = baseOpacity;

    // Calculate final size - interpolate between base and hover scale
    float baseScale = starSize * 20.0;
    float hoverScale = 40.0;
    float targetScale = mix(baseScale, hoverScale, isHovered);
    float finalSize = targetScale * twinkleScale;

    // Position
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    gl_Position = projectionMatrix * mvPosition;

    // Size attenuation - scale by distance from camera
    // Using higher multiplier to match original sprite sizes
    gl_PointSize = finalSize * (1500.0 / -mvPosition.z);
  }
`,Et=`
  uniform sampler2D uTexture;

  varying vec3 vColor;
  varying float vOpacity;

  void main() {
    vec4 texColor = texture2D(uTexture, gl_PointCoord);
    gl_FragColor = vec4(vColor * texColor.rgb, texColor.a * vOpacity);
  }
`;function Tt({stars:t,observer:s,date:n,onStarClick:o,onStarHover:r,focusedStarName:c,onFocusedStarScreenPos:i}){const h=a.useRef(null),d=a.useRef(null),I=a.useRef(null),[u,m]=a.useState(-1),E=a.useRef(null),{gl:A,camera:N}=Ne(),O=a.useMemo(()=>lt(),[]),S=a.useMemo(()=>{const l=[];for(const _ of t){if(_.ra===null||_.dec===null)continue;const C=Je(_.ra,_.dec,s,n,pe.STAR_DISTANCE);if(!C.visible)continue;const L=ut(_.hostname);l.push({star:_,position:new Te(C.x,C.y,C.z),color:new Ge(qe(_.star_class)),size:Qe(_.sy_vmag),twinkleSpeed:Q.MIN_SPEED+L%Q.SPEED_MODULO/Q.SPEED_DIVISOR,twinklePhase:L%1e3/1e3*Math.PI*2,twinkleIntensity:Q.MIN_INTENSITY+L%Q.INTENSITY_MODULO/Q.INTENSITY_DIVISOR})}return l},[t,s,n]),P=a.useMemo(()=>{const l=S.length,_=new Float32Array(l*3),C=new Float32Array(l*3),L=new Float32Array(l),y=new Float32Array(l),b=new Float32Array(l),Y=new Float32Array(l),W=new Float32Array(l);return S.forEach((v,j)=>{_[j*3]=v.position.x,_[j*3+1]=v.position.y,_[j*3+2]=v.position.z,C[j*3]=v.color.r,C[j*3+1]=v.color.g,C[j*3+2]=v.color.b,L[j]=v.size,y[j]=v.twinkleSpeed,b[j]=v.twinklePhase,Y[j]=v.twinkleIntensity,W[j]=0}),{positions:_,colors:C,sizes:L,twinkleSpeeds:y,twinklePhases:b,twinkleIntensities:Y,isHovered:W}},[S]),G=a.useRef(null),H=a.useMemo(()=>{if(!c)return-1;const l=c.toLowerCase().split(" ")[0];return S.findIndex(_=>_.star.hostname.toLowerCase().includes(l))},[c,S]);a.useEffect(()=>{if(!I.current)return;const l=I.current;l.setAttribute("position",new Z(P.positions,3)),l.setAttribute("starColor",new Z(P.colors,3)),l.setAttribute("starSize",new Z(P.sizes,1)),l.setAttribute("twinkleSpeed",new Z(P.twinkleSpeeds,1)),l.setAttribute("twinklePhase",new Z(P.twinklePhases,1)),l.setAttribute("twinkleIntensity",new Z(P.twinkleIntensities,1));const _=new Z(P.isHovered,1);l.setAttribute("isHovered",_),G.current=_,l.computeBoundingSphere()},[P]),q(l=>{if(d.current&&(d.current.uniforms.uTime.value=l.clock.elapsedTime),G.current){const _=G.current.array;let C=!1;for(let L=0;L<_.length;L++){const b=(L===u||L===H?1:0)-_[L];Math.abs(b)>.001&&(_[L]+=b*K.HOVER_LERP,C=!0)}C&&(G.current.needsUpdate=!0)}if(H>=0&&i){const _=S[H];if(_){const C=_.position.clone().project(N);if(C.z<=1){const L=A.domElement.getBoundingClientRect(),y=(C.x+1)/2*L.width+L.left,b=(1-C.y)/2*L.height+L.top;i({x:y,y:b})}}}else i&&H===-1&&i(null)});const F=a.useCallback(l=>{if(S.length===0)return;const _=A.domElement.getBoundingClientRect(),C=l.clientX-_.left,L=l.clientY-_.top;let y=-1,b=1/0;for(let Y=0;Y<S.length;Y++){const W=S[Y],v=W.position.clone().project(N);if(v.z>1)continue;const j=(v.x+1)/2*_.width,de=(1-v.y)/2*_.height,se=C-j,D=L-de,ne=Math.sqrt(se*se+D*D),oe=K.BASE_HIT_THRESHOLD+W.size*pe.BASE_SCALE*K.SIZE_SCALE_MULTIPLIER;ne<oe&&ne<b&&(y=Y,b=ne)}y!==u?(m(y),y>=0?(A.domElement.style.cursor=K.POINTER_CURSOR,r==null||r(S[y].star,{x:l.clientX,y:l.clientY})):(A.domElement.style.cursor=K.DEFAULT_CURSOR,r==null||r(null))):y>=0&&(r==null||r(S[y].star,{x:l.clientX,y:l.clientY}))},[S,u,A,N,r]),R=a.useCallback(l=>{E.current={x:l.clientX,y:l.clientY}},[]),p=a.useCallback(l=>{if(E.current){const _=l.clientX-E.current.x,C=l.clientY-E.current.y;if(Math.sqrt(_*_+C*C)>K.CLICK_DISTANCE_THRESHOLD)return}u>=0&&S[u]&&(o==null||o(S[u].star))},[u,S,o]),w=a.useCallback(()=>{m(-1),A.domElement.style.cursor=K.DEFAULT_CURSOR,r==null||r(null)},[A,r]);return a.useEffect(()=>{const l=A.domElement;return l.addEventListener("pointerdown",R),l.addEventListener("pointermove",F),l.addEventListener("click",p),l.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerdown",R),l.removeEventListener("pointermove",F),l.removeEventListener("click",p),l.removeEventListener("pointerleave",w)}},[A,R,F,p,w]),a.useEffect(()=>()=>{O.dispose()},[O]),S.length===0?null:e.jsxs("points",{ref:h,frustumCulled:!1,children:[e.jsx("bufferGeometry",{ref:I}),e.jsx("shaderMaterial",{ref:d,vertexShader:dt,fragmentShader:Et,uniforms:{uTime:{value:0},uTexture:{value:O}},transparent:!0,depthWrite:!1,blending:Fe})]})}function ht({longitude:t=0}){const[s,n]=a.useState(!1),[o,r]=a.useState(null),c=a.useRef(0),i=a.useRef(0),h=a.useMemo(()=>({uRotation:{value:0}}),[]);return a.useEffect(()=>{const d=()=>{try{re.isLoaded()?(r({surfaceVert:re.get("earthSurfaceVert"),surfaceFrag:re.get("earthSurfaceFrag"),atmosphereVert:re.get("atmosphereVert"),atmosphereFrag:re.get("atmosphereFrag")}),n(!0)):setTimeout(d,g.SHADER_RETRY_DELAY_MS)}catch(I){console.warn("Earth shaders not available, using fallback:",I),n(!0)}};d()},[]),a.useEffect(()=>{c.current=-t*Math.PI/180},[t]),q(()=>{const d=c.current-i.current;i.current+=d*g.ROTATION_LERP,h.uRotation.value=i.current}),!s||!o?e.jsx("group",{children:e.jsxs("mesh",{position:[0,g.POSITION_Y,0],children:[e.jsx("sphereGeometry",{args:[g.RADIUS,g.WIDTH_SEGMENTS,g.HEIGHT_SEGMENTS_SURFACE]}),e.jsx("meshBasicMaterial",{color:g.FALLBACK_COLOR})]})}):e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,g.POSITION_Y,0],children:[e.jsx("sphereGeometry",{args:[g.RADIUS,g.WIDTH_SEGMENTS,g.HEIGHT_SEGMENTS_SURFACE]}),e.jsx("shaderMaterial",{vertexShader:o.surfaceVert,fragmentShader:o.surfaceFrag,uniforms:h})]}),e.jsxs("mesh",{position:[0,g.POSITION_Y,0],scale:[g.ATMOSPHERE_SCALE,g.ATMOSPHERE_SCALE,g.ATMOSPHERE_SCALE],children:[e.jsx("sphereGeometry",{args:[g.RADIUS,g.WIDTH_SEGMENTS,g.HEIGHT_SEGMENTS_ATMOSPHERE]}),e.jsx("shaderMaterial",{vertexShader:o.atmosphereVert,fragmentShader:o.atmosphereFrag,transparent:!0,side:he,depthWrite:!1})]})]})}function At({satellite:t,onExpired:s}){const n=a.useRef(null),o=a.useRef(t.createdAt);q(c=>{if(!n.current)return;const i=c.clock.elapsedTime-o.current;if(i>z.LIFETIME_S){s(t.id);return}const h=i*t.speed,d=t.startPosition.clone().add(t.direction.clone().multiplyScalar(h));n.current.position.copy(d),n.current.rotation.x+=z.TUMBLE_X,n.current.rotation.y+=z.TUMBLE_Y});const r=z.BASE_SIZE*t.type.size;return e.jsxs("group",{ref:n,position:t.startPosition,children:[e.jsxs("mesh",{children:[e.jsx("boxGeometry",{args:[r,r*k.BODY_HEIGHT_MULTIPLIER,r*k.BODY_DEPTH_MULTIPLIER]}),e.jsx("meshBasicMaterial",{color:t.type.color})]}),t.type.panels&&e.jsxs(e.Fragment,{children:[e.jsxs("mesh",{position:[r*k.PANEL_X_OFFSET,0,0],children:[e.jsx("boxGeometry",{args:[r*k.PANEL_WIDTH,r*k.PANEL_THICKNESS,r*k.PANEL_DEPTH]}),e.jsx("meshBasicMaterial",{color:k.PANEL_COLOR})]}),e.jsxs("mesh",{position:[-r*k.PANEL_X_OFFSET,0,0],children:[e.jsx("boxGeometry",{args:[r*k.PANEL_WIDTH,r*k.PANEL_THICKNESS,r*k.PANEL_DEPTH]}),e.jsx("meshBasicMaterial",{color:k.PANEL_COLOR})]})]})]})}function _t(){const[t,s]=a.useState([]),n=a.useRef(0),o=a.useRef(null);q(c=>{o.current||(o.current=c.clock)}),a.useEffect(()=>{const c=()=>{o.current&&s(d=>{var F;if(d.length>=ce.MAX_ACTIVE)return d;const I=Math.random()>.5,u=I?-80:z.ALTITUDE,m=ee.START_Y_BASE+Math.random()*ee.START_Y_RANGE,E=-80*(ee.START_Z_LOWER+Math.random()*ee.START_Z_RANGE),A=I?1:-1,N=(Math.random()-.5)*ee.DIR_Y_SCALE,O=(Math.random()-.5)*ee.DIR_Z_SCALE,S=new Te(A,N,O).normalize(),P=Math.random(),G=ct(P),H={id:n.current++,type:G,startPosition:new Te(u,m,E),direction:S,speed:z.SPEED*(z.SPEED_MIN_FACTOR+Math.random()*z.SPEED_VARIATION),createdAt:((F=o.current)==null?void 0:F.elapsedTime)??0,altitude:z.ALTITUDE};return[...d,H]})},i=()=>{const d=ce.MIN_INTERVAL_MS+Math.random()*(ce.MAX_INTERVAL_MS-ce.MIN_INTERVAL_MS);return setTimeout(()=>{c(),h=i()},d)};let h=setTimeout(()=>{c(),h=i()},ce.INITIAL_DELAY_MS);return()=>clearTimeout(h)},[]);const r=c=>{s(i=>i.filter(h=>h.id!==c))};return e.jsx("group",{children:t.map(c=>e.jsx(At,{satellite:c,onExpired:r},c.id))})}function mt(){const t=a.useRef(null);q(n=>{if(!t.current)return;const o=V.START_ANGLE+V.ORBIT_DIRECTION*n.clock.elapsedTime*V.ANGULAR_VELOCITY,r=V.ORBITAL_RADIUS*Math.sin(o),c=g.POSITION_Y+V.ORBITAL_RADIUS*Math.cos(o);t.current.position.set(r,c,0),t.current.rotation.x+=V.ROTATION_X,t.current.rotation.y+=V.ROTATION_Y});const s=z.BASE_SIZE*V.SIZE_MULTIPLIER;return e.jsxs("group",{ref:t,children:[e.jsxs("mesh",{children:[e.jsx("boxGeometry",{args:[s*.3,s*.15,s*1.2]}),e.jsx("meshBasicMaterial",{color:"#d3d3d3",toneMapped:!1})]}),e.jsxs("mesh",{position:[0,0,0],children:[e.jsx("boxGeometry",{args:[s*.6,s*.4,s*.5]}),e.jsx("meshBasicMaterial",{color:"#e8e8e8",toneMapped:!1})]}),e.jsxs("mesh",{position:[s*2,s*.1,0],children:[e.jsx("boxGeometry",{args:[s*3,s*.08,s*.6]}),e.jsx("meshBasicMaterial",{color:"#1e90ff",toneMapped:!1})]}),e.jsxs("mesh",{position:[-s*2,s*.1,0],children:[e.jsx("boxGeometry",{args:[s*3,s*.08,s*.6]}),e.jsx("meshBasicMaterial",{color:"#1e90ff",toneMapped:!1})]}),e.jsxs("mesh",{position:[0,0,s*.7],children:[e.jsx("boxGeometry",{args:[s*.4,s*.3,s*.3]}),e.jsx("meshBasicMaterial",{color:"#d3d3d3",toneMapped:!1})]}),e.jsxs("mesh",{position:[0,0,-s*.7],children:[e.jsx("boxGeometry",{args:[s*.4,s*.3,s*.3]}),e.jsx("meshBasicMaterial",{color:"#d3d3d3",toneMapped:!1})]}),e.jsxs("mesh",{position:[-s*1.2,-s*.08,0],children:[e.jsx("boxGeometry",{args:[s*.15,s*.15,s*.8]}),e.jsx("meshBasicMaterial",{color:"#a9a9a9",toneMapped:!1})]}),e.jsxs("mesh",{position:[s*1.2,-s*.08,0],children:[e.jsx("boxGeometry",{args:[s*.15,s*.15,s*.8]}),e.jsx("meshBasicMaterial",{color:"#a9a9a9",toneMapped:!1})]})]})}function Oe(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}let le=!1;const $=[{name:"Proxima Cen",ra:217.42,dec:-62.68,descKey:"proxima"},{name:"TRAPPIST-1",ra:346.62,dec:-5.04,descKey:"trappist"},{name:"Kepler-452",ra:286.81,dec:44.28,descKey:"kepler452"}],Ee={LERP_FACTOR:.03,ARRIVAL_THRESHOLD:.5};function It(t){const n=Le.INOUT_BACK_C1*Le.INOUT_BACK_C2_MULTIPLIER;return t<.5?Math.pow(2*t,2)*((n+1)*2*t-n)/2:(Math.pow(2*t-2,2)*((n+1)*(t*2-2)+n)+2)/2}const St=`
  varying vec3 vNormal;
  varying vec3 vPosition;
  varying vec2 vUv;

  void main() {
    vNormal = normalize(normalMatrix * normal);
    vPosition = position;
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,ft=`
  uniform float uTime;
  uniform float uOpacity;

  varying vec3 vNormal;
  varying vec3 vPosition;
  varying vec2 vUv;

  // Simple noise function
  float hash(vec2 p) {
    return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453);
  }

  float noise(vec2 p) {
    vec2 i = floor(p);
    vec2 f = fract(p);
    f = f * f * (3.0 - 2.0 * f);

    float a = hash(i);
    float b = hash(i + vec2(1.0, 0.0));
    float c = hash(i + vec2(0.0, 1.0));
    float d = hash(i + vec2(1.0, 1.0));

    return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);
  }

  float fbm(vec2 p) {
    float sum = 0.0;
    float amp = 0.5;
    for(int i = 0; i < 4; i++) {
      sum += noise(p) * amp;
      p *= 2.0;
      amp *= 0.5;
    }
    return sum;
  }

  void main() {
    // Convert position to spherical coordinates for texture mapping
    vec3 nPos = normalize(vPosition);
    float longitude = atan(nPos.x, nPos.z) + uTime * 0.1;
    float latitude = asin(nPos.y);
    vec2 uv = vec2(longitude / 3.14159, latitude / 1.5708 + 0.5);

    // Ocean base color
    vec3 oceanColor = vec3(0.02, 0.08, 0.15);
    vec3 oceanHighlight = vec3(0.05, 0.15, 0.3);

    // Land generation using noise
    float landNoise = fbm(uv * 8.0);
    float landMask = smoothstep(0.45, 0.55, landNoise);

    // Land colors
    vec3 landLow = vec3(0.08, 0.25, 0.05); // Green lowlands
    vec3 landHigh = vec3(0.3, 0.2, 0.1);   // Brown highlands
    vec3 landColor = mix(landLow, landHigh, fbm(uv * 16.0));

    // Ice caps at poles
    float iceMask = smoothstep(0.7, 0.9, abs(nPos.y));
    vec3 iceColor = vec3(0.9, 0.95, 1.0);

    // Clouds
    float cloudNoise = fbm(uv * 6.0 + uTime * 0.05);
    float cloudMask = smoothstep(0.5, 0.7, cloudNoise);
    vec3 cloudColor = vec3(1.0, 1.0, 1.0);

    // Combine layers
    vec3 surfaceColor = mix(oceanColor, landColor, landMask);
    surfaceColor = mix(surfaceColor, iceColor, iceMask);
    surfaceColor = mix(surfaceColor, cloudColor, cloudMask * 0.7);

    // Simple lighting from camera direction
    vec3 lightDir = normalize(vec3(0.5, 0.3, 1.0));
    float light = max(0.0, dot(vNormal, lightDir));
    float ambient = 0.15;

    // Atmosphere rim lighting
    float rim = 1.0 - max(0.0, dot(vNormal, vec3(0.0, 0.0, 1.0)));
    vec3 atmosphereColor = vec3(0.3, 0.6, 1.0);
    vec3 rimGlow = atmosphereColor * pow(rim, 3.0) * 0.5;

    vec3 finalColor = surfaceColor * (light + ambient) + rimGlow;

    gl_FragColor = vec4(finalColor, uOpacity);
  }
`;function Rt({progress:t}){const s=a.useRef(null),n=a.useMemo(()=>({uTime:{value:0},uOpacity:{value:1}}),[]);if(q((c,i)=>{s.current&&(s.current.rotation.y+=i*U.ROTATION_SPEED),n.uTime.value=c.clock.elapsedTime}),t>=1)return null;const o=U.SCALE_MULTIPLIER*(1-t),r=U.INITIAL_Z-t*U.Z_MOVEMENT_DISTANCE;return e.jsxs("group",{ref:s,position:[0,0,r],scale:[o,o,o],children:[e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[U.BASE_RADIUS,64,64]}),e.jsx("shaderMaterial",{vertexShader:St,fragmentShader:ft,uniforms:n,transparent:!0})]}),e.jsxs("mesh",{scale:[U.ATMOSPHERE_SCALE,U.ATMOSPHERE_SCALE,U.ATMOSPHERE_SCALE],children:[e.jsx("sphereGeometry",{args:[U.BASE_RADIUS,32,32]}),e.jsx("meshBasicMaterial",{color:U.ATMOSPHERE_COLOR,transparent:!0,opacity:U.ATMOSPHERE_OPACITY,side:he})]}),e.jsxs("mesh",{scale:[U.OUTER_GLOW_SCALE,U.OUTER_GLOW_SCALE,U.OUTER_GLOW_SCALE],children:[e.jsx("sphereGeometry",{args:[U.BASE_RADIUS,32,32]}),e.jsx("meshBasicMaterial",{color:U.OUTER_GLOW_COLOR,transparent:!0,opacity:U.OUTER_GLOW_OPACITY,side:he})]})]})}function pt({introState:t,onBearingChange:s,controlsEnabled:n,tourTarget:o,isTourActive:r,onTourArrival:c}){const{camera:i,gl:h}=Ne(),d=a.useRef(!1),I=a.useRef({x:0,y:0}),u=a.useRef({azimuth:x.INITIAL_AZIMUTH,altitude:x.INITIAL_ALTITUDE}),m=a.useRef(!1);return q(()=>{const{phase:E}=t;if(E==="earth-spin"||E==="camera-swoop")i.position.set(0,0,0),i.lookAt(0,0,-100),i.updateProjectionMatrix();else if(E==="stars-fade"||E==="complete"){if(r&&o){let A=o.azimuth-u.current.azimuth;A>180&&(A-=360),A<-180&&(A+=360),u.current.azimuth+=A*Ee.LERP_FACTOR,u.current.altitude+=(o.altitude-u.current.altitude)*Ee.LERP_FACTOR,u.current.azimuth=(u.current.azimuth%360+360)%360,Math.sqrt(A*A+Math.pow(o.altitude-u.current.altitude,2))<Ee.ARRIVAL_THRESHOLD&&!m.current&&(m.current=!0,c==null||c()),i.position.set(0,0,0);const O=u.current.azimuth*Math.PI/180,S=u.current.altitude*Math.PI/180;i.lookAt(-Math.sin(O)*Math.cos(S)*x.LOOKAT_DISTANCE,Math.sin(S)*x.LOOKAT_DISTANCE,-Math.cos(O)*Math.cos(S)*x.LOOKAT_DISTANCE),i.updateProjectionMatrix(),s(u.current.azimuth,u.current.altitude)}else if(!n){i.position.set(0,0,0);const A=u.current.azimuth*Math.PI/180,N=u.current.altitude*Math.PI/180;i.lookAt(-Math.sin(A)*Math.cos(N)*x.LOOKAT_DISTANCE,Math.sin(N)*x.LOOKAT_DISTANCE,-Math.cos(A)*Math.cos(N)*x.LOOKAT_DISTANCE),i.updateProjectionMatrix()}}}),a.useEffect(()=>{m.current=!1},[o==null?void 0:o.azimuth,o==null?void 0:o.altitude]),a.useEffect(()=>{if(!n||r)return;const E=h.domElement,A=()=>{const{azimuth:R,altitude:p}=u.current,w=R*Math.PI/180,l=p*Math.PI/180;i.position.set(0,0,0),i.lookAt(-Math.sin(w)*Math.cos(l)*100,Math.sin(l)*100,-Math.cos(w)*Math.cos(l)*100),i.updateProjectionMatrix(),s(R,p)},N=R=>{d.current=!0,I.current={x:R.clientX,y:R.clientY},E.style.cursor=x.DRAGGING_CURSOR},O=()=>{d.current=!1,E.style.cursor=x.DEFAULT_CURSOR},S=R=>{if(!d.current)return;const p=R.clientX-I.current.x,w=R.clientY-I.current.y;u.current.azimuth-=p*x.DRAG_SENSITIVITY,u.current.altitude+=w*x.DRAG_SENSITIVITY,u.current.azimuth=(u.current.azimuth%360+360)%360,u.current.altitude=Math.max(x.MIN_ALTITUDE,Math.min(x.MAX_ALTITUDE,u.current.altitude)),I.current={x:R.clientX,y:R.clientY},A()},P=()=>{d.current=!1,E.style.cursor=x.DEFAULT_CURSOR},G=R=>{if(R.touches.length!==1)return;d.current=!0;const p=R.touches[0];I.current={x:p.clientX,y:p.clientY}},H=()=>{d.current=!1},F=R=>{if(!d.current||R.touches.length!==1)return;R.preventDefault();const p=R.touches[0],w=p.clientX-I.current.x,l=p.clientY-I.current.y;u.current.azimuth-=w*x.DRAG_SENSITIVITY,u.current.altitude+=l*x.DRAG_SENSITIVITY,u.current.azimuth=(u.current.azimuth%360+360)%360,u.current.altitude=Math.max(x.MIN_ALTITUDE,Math.min(x.MAX_ALTITUDE,u.current.altitude)),I.current={x:p.clientX,y:p.clientY},A()};return E.style.cursor=x.DEFAULT_CURSOR,E.addEventListener("mousedown",N),E.addEventListener("mouseup",O),E.addEventListener("mousemove",S),E.addEventListener("mouseleave",P),E.addEventListener("touchstart",G),E.addEventListener("touchend",H),E.addEventListener("touchmove",F,{passive:!1}),A(),()=>{E.removeEventListener("mousedown",N),E.removeEventListener("mouseup",O),E.removeEventListener("mousemove",S),E.removeEventListener("mouseleave",P),E.removeEventListener("touchstart",G),E.removeEventListener("touchend",H),E.removeEventListener("touchmove",F)}},[h,i,n,s,r]),null}function Lt({opacity:t}){const s=ie.COUNT,n=a.useMemo(()=>{const o=new Float32Array(s*3);for(let r=0;r<s;r++){const c=Math.random()*Math.PI*2,i=Math.acos(2*Math.random()-1),h=ie.SPHERE_RADIUS;o[r*3]=h*Math.sin(i)*Math.cos(c),o[r*3+1]=h*Math.sin(i)*Math.sin(c),o[r*3+2]=h*Math.cos(i)}return o},[]);return e.jsxs("points",{children:[e.jsx("bufferGeometry",{children:e.jsx("bufferAttribute",{attach:"attributes-position",count:s,array:n,itemSize:3})}),e.jsx("pointsMaterial",{size:ie.POINT_SIZE,color:ie.COLOR,transparent:!0,opacity:t*ie.OPACITY_MULTIPLIER,sizeAttenuation:!1})]})}function Nt(){const[t,s]=a.useState({phase:le?"complete":"earth-spin",progress:le?1:0}),n=a.useRef(Date.now()),o=a.useCallback(()=>{s({phase:"complete",progress:1})},[]);a.useEffect(()=>{let h;const d=()=>{const I=Date.now(),u=I-n.current;s(m=>{if(m.phase==="complete")return m;if(m.phase==="earth-spin"){const E=Math.min(u/X.EARTH_SPIN_DURATION,1);return E>=1?(n.current=I,{phase:"camera-swoop",progress:0}):{...m,progress:E}}if(m.phase==="camera-swoop"){const E=Math.min(u/X.CAMERA_SWOOP_DURATION,1);return E>=1?(n.current=I,{phase:"stars-fade",progress:0}):{...m,progress:E}}if(m.phase==="stars-fade"){const E=Math.min(u/X.STARS_FADE_DURATION,1);return E>=1?{phase:"complete",progress:1}:{...m,progress:E}}return m}),t.phase!=="complete"&&(h=requestAnimationFrame(d))};return h=requestAnimationFrame(d),()=>cancelAnimationFrame(h)},[t.phase]);const r=t.phase==="stars-fade"?Oe(t.progress):t.phase==="complete"?1:0,c=t.phase==="camera-swoop"?It(t.progress):t.phase==="stars-fade"||t.phase==="complete"?1:0,i=t.phase==="complete";return{state:t,introEarthExitProgress:c,starsOpacity:r,controlsEnabled:i,skipIntro:o}}function Ct(t){const[s,n]=a.useState(t),[o,r]=a.useState(t),[c,i]=a.useState(!1),h=a.useRef(Date.now()),d=a.useRef(t);a.useEffect(()=>{if(!c)return;let u;const m=()=>{const E=Date.now()-h.current,A=Math.min(E/it.DURATION_MS,1),N=Oe(A),O=d.current.latitude+(o.latitude-d.current.latitude)*N,S=d.current.longitude+(o.longitude-d.current.longitude)*N;n({latitude:O,longitude:S}),A<1?u=requestAnimationFrame(m):(i(!1),n(o))};return u=requestAnimationFrame(m),()=>cancelAnimationFrame(u)},[c,o]);const I=a.useCallback(u=>{d.current=s,h.current=Date.now(),r(u),i(!0)},[s]);return{currentLocation:s,changeLocation:I,isAnimating:c}}function Mt({starCount:t,planetCount:s,onDismiss:n,onStartTour:o,isExiting:r,onTrackCTA:c}){const{t:i}=Ae(),h=()=>{c("take_tour"),o()},d=()=>{c("explore"),n()};return e.jsx("div",{className:`welcome-card-container ${r?"exiting":""}`,children:e.jsxs("div",{className:"welcome-card",children:[e.jsx("h2",{className:"welcome-title",children:i("pages.home.infoCard.title")}),e.jsx("p",{className:"welcome-description",children:i("pages.home.infoCard.description")}),e.jsx("div",{className:"welcome-stats",children:i("pages.home.infoCard.stats",{starCount:t.toLocaleString(),planetCount:s.toLocaleString()})}),e.jsx("p",{className:"welcome-hint",children:i("pages.home.infoCard.hint")}),e.jsxs("div",{className:"welcome-actions",children:[e.jsx("button",{className:"welcome-tour-btn",onClick:h,children:i("pages.home.infoCard.takeTour")}),e.jsx("button",{className:"welcome-dismiss",onClick:d,children:i("pages.home.infoCard.dismiss")})]})]})})}function Ot({currentStep:t,totalSteps:s,currentStarName:n,onNext:o,onSkip:r}){const{t:c}=Ae(),i=t===s-1;return e.jsxs("div",{className:"tour-overlay",children:[e.jsxs("div",{className:"tour-info",children:[e.jsx("div",{className:"tour-step",children:c("components.tour.step",{current:t+1,total:s})}),e.jsx("div",{className:"tour-star-name",children:n}),e.jsx("div",{className:"tour-star-desc",children:c(`components.tour.stars.${$[t].descKey}`)})]}),e.jsx("button",{className:"tour-next",onClick:o,children:c(i?"components.tour.finish":"components.tour.next")}),e.jsx("button",{className:"tour-skip",onClick:r,children:c("components.tour.skip")})]})}function xt({stars:t,onStarClick:s}){const{t:n}=Ae(),{currentLocation:o,changeLocation:r,isAnimating:c}=Ct(Re["São Paulo"]),[i]=a.useState(()=>new Date),[h,d]=a.useState({azimuth:180,altitude:-10}),[I,u]=a.useState(!1),[m,E]=a.useState(null),[A,N]=a.useState(null),[O,S]=a.useState("São Paulo"),[P,G]=a.useState(!1),[H,F]=a.useState(!1),R=a.useRef(le),[p,w]=a.useState(!1),[l,_]=a.useState(0),[C,L]=a.useState(!1),[y,b]=a.useState(null),[Y,W]=a.useState(i),[v,j]=a.useState(null),{trackCTAClick:de,trackLocationChange:se}=He(),{state:D,introEarthExitProgress:ne,starsOpacity:oe,controlsEnabled:xe,skipIntro:De}=Nt();a.useEffect(()=>{const f=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=f}},[]),a.useEffect(()=>{if(D.phase==="complete"&&!R.current&&!P){const f=setTimeout(()=>{G(!0)},X.WELCOME_CARD_DELAY);return()=>clearTimeout(f)}},[D.phase,P]);const ge=a.useCallback(()=>{le=!0,R.current=!0,F(!0),setTimeout(()=>{G(!1),F(!1)},X.WELCOME_CARD_DISMISS_DURATION)},[]),ue=a.useCallback(f=>{const M=$[f],me=rt(M.ra,M.dec,o,i)||i;W(me);const Ie=Me({ra:M.ra,dec:M.dec},o,me);return{azimuth:Ie.azimuth,altitude:Ie.altitude}},[o,i]),ve=a.useCallback(()=>{le=!0,R.current=!0,G(!1),w(!0),_(0),L(!1),b(ue(0))},[ue]),Pe=a.useCallback(()=>{if(l<$.length-1){const f=l+1;_(f),b(ue(f))}else w(!1),b(null),L(!0)},[l,ue]),Ue=a.useCallback(()=>{w(!1),b(null),L(!0)},[]),ye=a.useCallback(()=>{const f=$[l],M=t.find(_e=>_e.hostname.toLowerCase().includes(f.name.toLowerCase().split(" ")[0]));M&&E(M)},[l,t]);a.useEffect(()=>{p&&v&&N(v)},[p,v]);const be=a.useCallback((f,M)=>{d({azimuth:f,altitude:M})},[]),je=a.useCallback((f,M)=>{r(M),S(f),u(!1),se(f)},[r,se]),we=a.useCallback((f,M)=>{E(f),N(M??null)},[]),ae=D.phase==="complete";return e.jsxs("div",{className:"starfield-container",children:[e.jsxs(Ve,{camera:{fov:B.CAMERA_FOV,near:B.CAMERA_NEAR,far:B.CAMERA_FAR,position:[B.CAMERA_INITIAL_X,B.CAMERA_INITIAL_Y,B.CAMERA_INITIAL_Z]},gl:{antialias:!0,alpha:!1},style:{background:B.BACKGROUND_COLOR},children:[e.jsx("color",{attach:"background",args:[B.BACKGROUND_COLOR_ALT]}),e.jsx(pt,{introState:D,onBearingChange:be,controlsEnabled:xe&&!p,tourTarget:y,isTourActive:p,onTourArrival:ye}),e.jsx("ambientLight",{intensity:B.AMBIENT_LIGHT_INTENSITY}),e.jsx(Rt,{progress:ne}),(D.phase==="stars-fade"||D.phase==="complete")&&e.jsxs(e.Fragment,{children:[e.jsx(Lt,{opacity:1}),e.jsx(Tt,{stars:t,observer:o,date:p?Y:i,onStarClick:s,onStarHover:we,focusedStarName:p?$[l].name:null,onFocusedStarScreenPos:j}),e.jsx(ht,{longitude:o.longitude}),D.phase==="complete"&&e.jsx(_t,{}),D.phase==="complete"&&e.jsx(mt,{})]})]}),(D.phase==="stars-fade"||D.phase==="complete")&&e.jsx("div",{className:"scene-fade-overlay",style:{opacity:1-oe,pointerEvents:oe>=1?"none":"auto"}}),ae&&e.jsxs("div",{className:"starfield-bearing",children:[e.jsx("div",{className:"bearing-title",children:n("components.starfield.bearing.title")}),e.jsxs("div",{className:"bearing-value",children:[e.jsx("span",{className:"bearing-icon",children:"↔"})," ",st(h.azimuth)]}),e.jsxs("div",{className:"bearing-value",children:[e.jsx("span",{className:"bearing-icon",children:"↕"})," ",nt(h.altitude)]})]}),m&&A&&ae&&e.jsxs("div",{className:"starfield-tooltip",style:{left:`${A.x+20}px`,top:`${A.y-10}px`},children:[e.jsx("div",{className:"tooltip-name",children:m.hostname}),e.jsxs("div",{className:"tooltip-info",children:[m.sy_pnum," ",n("components.starfield.tooltip.planet",{count:m.sy_pnum}),m.distance_ly&&e.jsxs(e.Fragment,{children:[" · ",m.distance_ly.toFixed(1)," ",n("components.starfield.tooltip.lightYears")]})]}),e.jsx("div",{className:"tooltip-hint",children:n("components.starfield.tooltip.clickToExplore")})]}),ae&&e.jsxs("div",{className:"starfield-location",children:[c?e.jsx("span",{className:"location-coords location-animating",children:n("components.starfield.location.travelingTo",{locationName:O})}):e.jsxs("span",{className:"location-coords",children:[O," · ",et(o.latitude),","," ",tt(o.longitude)]}),e.jsx("button",{className:"location-button",onClick:()=>u(!I),disabled:c,children:n("components.starfield.location.changeLocation")}),I&&!c&&e.jsx("div",{className:"location-picker",children:Object.entries(Re).map(([f,M])=>e.jsx("button",{className:"location-option",onClick:()=>je(f,M),children:f},f))})]}),ae&&e.jsx("div",{className:"starfield-info",children:e.jsxs("span",{children:[t.length.toLocaleString()," ",n("components.starfield.info.hostStars")]})}),D.phase!=="complete"&&e.jsxs("div",{className:"intro-overlay",onClick:De,children:[D.phase==="earth-spin"&&e.jsx("div",{className:"intro-text",children:e.jsxs("div",{className:"intro-title-container",children:[e.jsx("div",{className:"intro-title-line intro-title-line-exo",children:"EXO".split("").map((f,M)=>e.jsx("span",{className:"intro-letter",style:{animationDelay:`${M*X.LETTER_ANIMATION_DELAY}s`},children:f},M))}),e.jsx("div",{className:"intro-title-line intro-title-line-planets",children:"PLANETS".split("").map((f,M)=>e.jsx("span",{className:"intro-letter",style:{animationDelay:`${X.PLANETS_LINE_START_OFFSET*X.LETTER_ANIMATION_DELAY+M*X.LETTER_ANIMATION_DELAY}s`},children:f},M))})]})}),(D.phase==="camera-swoop"||D.phase==="stars-fade")&&e.jsx("div",{className:"intro-text",style:{opacity:D.phase==="stars-fade"?1-oe:1},children:e.jsx("span",{className:"intro-subtitle",children:"Explore the cosmos"})}),D.phase!=="stars-fade"&&e.jsx("div",{className:"intro-skip",children:"Click anywhere to skip"})]}),P&&e.jsx(Mt,{starCount:t.length,planetCount:t.reduce((f,M)=>f+(M.sy_pnum||0),0),onDismiss:ge,onStartTour:ve,isExiting:H,onTrackCTA:de}),p&&e.jsx(Ot,{currentStep:l,totalSteps:$.length,currentStarName:$[l].name,onNext:Pe,onSkip:Ue}),C&&ae&&!p&&e.jsx(ze,{to:"/tour",className:"tour-button-persistent",children:"Tour"})]})}function vt(){const{getAllStars:t}=Ye(),s=Be(),n=t(),o=a.useCallback(r=>{s(`/stars/${Xe(r.hostname)}`)},[s]);return e.jsx(xt,{stars:n,onStarClick:o})}export{vt as default};
