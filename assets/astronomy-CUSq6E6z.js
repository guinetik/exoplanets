const t={DEGREES_TO_RADIANS:Math.PI/180,RADIANS_TO_DEGREES:180/Math.PI,FULL_CIRCLE:360,HALF_CIRCLE:180,MILLISECONDS_PER_DAY:864e5,JULIAN_DATE_OFFSET:24405875e-1,J2000_JULIAN_DATE:2451545,JULIAN_CENTURIES_PER_CENTURY:36525,GMST_CONSTANT:280.46061837,GMST_RATE:360.98564736629,GMST_T_SQUARED_COEFF:387933e-9,GMST_T_CUBED_DIVISOR:3871e4,HOUR_ANGLE_MIN:-180,HOUR_ANGLE_MAX:180,MIN_MAGNITUDE:0,MAX_MAGNITUDE:20,MAGNITUDE_CLAMP_MIN:.1,MAGNITUDE_CLAMP_MAX:3,MAGNITUDE_SIZE_COEFFICIENT:2.5,MAGNITUDE_EXPONENT_DIVISOR:10,COORDINATE_DECIMAL_PLACES:2,DEFAULT_SPHERE_RADIUS:1,DEFAULT_STAR_RADIUS:100,HORIZON_ALTITUDE_THRESHOLD:-5,COSINE_MAX:1,COSINE_MIN:-1},c={O:5995775,B:8101887,A:13293567,F:16316415,G:16774378,K:16765601,M:16724787,L:16729156,T:16733525,Y:16720384},S=16777215;function a(_){return _*t.DEGREES_TO_RADIANS}function D(_){return _*t.RADIANS_TO_DEGREES}function O(_){return _.getTime()/t.MILLISECONDS_PER_DAY+t.JULIAN_DATE_OFFSET}function U(_){const n=O(_),E=(n-t.J2000_JULIAN_DATE)/t.JULIAN_CENTURIES_PER_CENTURY;let o=t.GMST_CONSTANT+t.GMST_RATE*(n-t.J2000_JULIAN_DATE)+t.GMST_T_SQUARED_COEFF*E*E-E*E*E/t.GMST_T_CUBED_DIVISOR;return o=(o%t.FULL_CIRCLE+t.FULL_CIRCLE)%t.FULL_CIRCLE,o}function r(_,n){return((U(_)+n)%t.FULL_CIRCLE+t.FULL_CIRCLE)%t.FULL_CIRCLE}function d(_,n,E=new Date){const{ra:o,dec:e}=_,{latitude:A,longitude:i}=n;let I=r(E,i)-o;I<t.HOUR_ANGLE_MIN&&(I+=t.FULL_CIRCLE),I>t.HOUR_ANGLE_MAX&&(I-=t.FULL_CIRCLE);const R=a(I),M=a(e),L=a(A),u=Math.sin(M)*Math.sin(L)+Math.cos(M)*Math.cos(L)*Math.cos(R),s=D(Math.asin(u)),N=(Math.sin(M)-Math.sin(a(s))*Math.sin(L))/(Math.cos(a(s))*Math.cos(L));let T;return Math.abs(N)>t.COSINE_MAX?T=N>0?0:t.HALF_CIRCLE:T=D(Math.acos(Math.max(t.COSINE_MIN,Math.min(t.COSINE_MAX,N)))),Math.sin(R)>0&&(T=t.FULL_CIRCLE-T),{altitude:s,azimuth:T}}function l(_,n=t.DEFAULT_SPHERE_RADIUS){const E=a(_.altitude),o=a(_.azimuth),e=Math.sin(E)*n,A=Math.cos(E)*n,i=-Math.sin(o)*A,C=-Math.cos(o)*A;return{x:i,y:e,z:C}}function h(_,n,E,o=new Date,e=t.DEFAULT_STAR_RADIUS){const A=d({ra:_,dec:n},E,o);return{...l(A,e),visible:A.altitude>t.HORIZON_ALTITUDE_THRESHOLD}}function F(_){if(!_)return S;const n=_.charAt(0).toUpperCase();return c[n]??S}function G(_){if(_===null||isNaN(_))return .5;const n=Math.max(t.MIN_MAGNITUDE,Math.min(t.MAX_MAGNITUDE,_)),E=t.MAGNITUDE_SIZE_COEFFICIENT*Math.pow(10,-n/t.MAGNITUDE_EXPONENT_DIVISOR);return Math.max(t.MAGNITUDE_CLAMP_MIN,Math.min(t.MAGNITUDE_CLAMP_MAX,E))}function f(_){const n=Math.abs(_),E=_>=0?"N":"S";return`${n.toFixed(t.COORDINATE_DECIMAL_PLACES)}°${E}`}function g(_){const n=Math.abs(_),E=_>=0?"E":"W";return`${n.toFixed(t.COORDINATE_DECIMAL_PLACES)}°${E}`}function m(_){return`${_.toFixed(t.COORDINATE_DECIMAL_PLACES)}°`}function P(_){return`${_.toFixed(t.COORDINATE_DECIMAL_PLACES)}°`}const H={"New York":{latitude:40.7128,longitude:-74.006},London:{latitude:51.5074,longitude:-.1278},Tokyo:{latitude:35.6762,longitude:139.6503},Sydney:{latitude:-33.8688,longitude:151.2093},"São Paulo":{latitude:-23.5505,longitude:-46.6333},"Cape Town":{latitude:-33.9249,longitude:18.4241},"Rio de Janeiro":{latitude:-22.9068,longitude:-43.1729},Greenwich:{latitude:51.4772,longitude:0}};export{H as L,P as a,f as b,g as c,m as f,F as g,G as m,h as s};
