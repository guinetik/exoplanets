const u=[{range:"0-20",min:0,max:20},{range:"20-40",min:20,max:40},{range:"40-60",min:40,max:60},{range:"60-80",min:60,max:80},{range:"80-100",min:80,max:100}];function k(l){const e=l.length;return u.map(({range:r,min:o,max:a})=>{const i=l.filter(t=>t.habitability_score>=o&&t.habitability_score<(a===100?101:a)).length;return{range:r,min:o,max:a,count:i,pct:e>0?i/e*100:0}})}function g(l){return l.filter(e=>e.pl_eqt!==null&&e.pl_eqt>0).map(e=>({temp:e.pl_eqt,score:e.habitability_score,name:e.pl_name,isHabitable:e.is_habitable_zone,isEarthLike:e.is_earth_like}))}const b=["O","B","A","F","G","K","M"];function f(l){const e=new Map;l.forEach(a=>{const i=a.star_class||"Unknown";e.has(i)||e.set(i,{scores:[],habitableCount:0});const t=e.get(i);t.scores.push(a.habitability_score),a.is_habitable_zone&&t.habitableCount++});const r=l.length,o=[];return e.forEach((a,i)=>{const t=a.scores.reduce((n,s)=>n+s,0)/a.scores.length;o.push({starClass:i,avgScore:t,count:a.scores.length,habitableCount:a.habitableCount,pct:r>0?a.scores.length/r*100:0})}),o.sort((a,i)=>{const t=b.indexOf(a.starClass),n=b.indexOf(i.starClass);return t===-1&&n===-1?a.starClass.localeCompare(i.starClass):t===-1||n===-1?1:t-n})}function m(l){const e=new Map;l.forEach(i=>{const t=i.disc_year;e.has(t)||e.set(t,{total:0,habitable:0});const n=e.get(t);n.total++,i.is_habitable_zone&&n.habitable++});const r=Array.from(e.keys()).sort((i,t)=>i-t);let o=0,a=0;return r.map(i=>{const t=e.get(i);return o+=t.total,a+=t.habitable,{year:i,total:t.total,habitable:t.habitable,cumulative:o,cumulativeHabitable:a}})}function d(l){return l.filter(e=>e.x_pc!==null&&e.y_pc!==null&&e.z_pc!==null).map(e=>({id:e.pl_name,name:e.pl_name,x:e.x_pc,y:e.y_pc,z:e.z_pc,score:e.habitability_score,isHabitable:e.is_habitable_zone,isEarthLike:e.is_earth_like,distanceLy:e.distance_ly??0,starClass:e.star_class,planetType:e.planet_type}))}function p(l){const e=l.filter(t=>t.is_habitable_zone),r=l.filter(t=>t.is_earth_like),o=l.reduce((t,n)=>n.habitability_score>t.score?{name:n.pl_name,score:n.habitability_score}:t,{name:"",score:0}),a=e.filter(t=>t.distance_ly!==null&&t.distance_ly>0).sort((t,n)=>(t.distance_ly??1/0)-(n.distance_ly??1/0))[0],i=l.length>0?l.reduce((t,n)=>t+n.habitability_score,0)/l.length:0;return{total:l.length,habitableZone:e.length,earthLike:r.length,topScore:o.score,topScorerName:o.name,nearestHabitable:a?{name:a.pl_name,distanceLy:a.distance_ly}:null,avgScore:i}}function S(l,e){switch(e){case"habitable":return l.filter(r=>r.isHabitable);case"earthLike":return l.filter(r=>r.isEarthLike);case"top20":return[...l].sort((r,o)=>o.score-r.score).slice(0,20);default:return l}}const _=["Sub-Earth","Earth-sized","Super-Earth","Sub-Neptune","Neptune-like","Gas Giant"];function E(l){const e=new Map;l.forEach(a=>{const i=a.star_class||"Unknown",t=a.planet_type||"Unknown",n=`${i}|${t}`;e.set(n,(e.get(n)||0)+1)});const r=[];let o=0;return b.forEach(a=>{_.forEach(i=>{const t=e.get(`${a}|${i}`)||0;r.push({x:a,y:i,value:t}),t>o&&(o=t)})}),{data:r,xLabels:b,yLabels:_,maxValue:o}}const h=[{key:"is_habitable_zone",label:"Habitable Zone",category:"Habitability"},{key:"is_earth_like",label:"Earth-like",category:"Habitability"},{key:"is_potentially_rocky",label:"Potentially Rocky",category:"Habitability"},{key:"has_earth_like_insolation",label:"Earth-like Insolation",category:"Habitability"},{key:"is_conservative_habitable",label:"Conservative HZ",category:"Habitability"},{key:"is_optimistic_habitable",label:"Optimistic HZ",category:"Habitability"},{key:"is_top_habitable_candidate",label:"Top Candidate",category:"Habitability"},{key:"is_hot_jupiter",label:"Hot Jupiter",category:"Planet Type"},{key:"is_hot_neptune",label:"Hot Neptune",category:"Planet Type"},{key:"is_ultra_hot",label:"Ultra Hot",category:"Planet Type"},{key:"is_frozen_world",label:"Frozen World",category:"Planet Type"},{key:"is_puffy",label:"Puffy",category:"Planet Type"},{key:"is_ultra_dense",label:"Ultra Dense",category:"Planet Type"},{key:"is_likely_tidally_locked",label:"Tidally Locked",category:"Orbital"},{key:"is_circular_orbit",label:"Circular Orbit",category:"Orbital"},{key:"is_eccentric_orbit",label:"Eccentric Orbit",category:"Orbital"},{key:"is_ultra_short_period",label:"Ultra Short Period",category:"Orbital"},{key:"is_multi_planet_system",label:"Multi-planet System",category:"System"},{key:"is_circumbinary",label:"Circumbinary",category:"System"},{key:"is_nearby",label:"Nearby (<100 ly)",category:"System"},{key:"is_very_nearby",label:"Very Nearby (<50 ly)",category:"System"},{key:"is_sun_like_star",label:"Sun-like Star",category:"Star"},{key:"is_red_dwarf_host",label:"Red Dwarf Host",category:"Star"},{key:"is_solar_analog",label:"Solar Analog",category:"Star"}];function C(l){const e=l.length;return h.map(({key:r,label:o,category:a})=>{const i=l.filter(t=>t[r]===!0).length;return{feature:r,label:o,count:i,pct:e>0?i/e*100:0,category:a}}).sort((r,o)=>o.pct-r.pct)}const y=[{key:"is_habitable_zone",label:"Habitable Zone"},{key:"is_earth_like",label:"Earth-like"},{key:"is_potentially_rocky",label:"Rocky"},{key:"has_earth_like_insolation",label:"Earth Insolation"},{key:"is_likely_tidally_locked",label:"Tidally Locked"},{key:"is_multi_planet_system",label:"Multi-planet"},{key:"is_sun_like_star",label:"Sun-like Star"},{key:"is_red_dwarf_host",label:"Red Dwarf"},{key:"is_nearby",label:"Nearby"}];function H(l){const e=y.map(a=>a.label),r=[];let o=0;return y.forEach(a=>{y.forEach(i=>{const t=l.filter(c=>c[a.key]===!0&&c[i.key]===!0).length,n=l.filter(c=>c[a.key]===!0).length,s=n>0?t/n*100:0;r.push({x:a.label,y:i.label,value:Math.round(s)}),s>o&&a.key!==i.key&&(o=s)})}),{data:r,labels:e,maxValue:100}}function v(l){const e=l.length,r=l.filter(s=>s.is_conservative_habitable).length,o=l.filter(s=>s.is_optimistic_habitable&&!s.is_conservative_habitable).length,a=l.filter(s=>s.is_earth_like).length,i=l.filter(s=>s.is_top_habitable_candidate).length,t=l.filter(s=>s.is_potentially_rocky&&!s.is_habitable_zone).length,n=e-r-o-t;return[{category:"Top Candidates",count:i,pct:i/e*100,color:"#ffd700"},{category:"Earth-like",count:a,pct:a/e*100,color:"#00ff88"},{category:"Conservative HZ",count:r,pct:r/e*100,color:"#00ccff"},{category:"Optimistic HZ",count:o,pct:o/e*100,color:"#ff8800"},{category:"Potentially Rocky",count:t,pct:t/e*100,color:"#aa88ff"},{category:"Other",count:n,pct:n/e*100,color:"#666666"}]}export{v as a,C as b,H as c,E as d,m as e,S as f,p as g,f as h,g as i,k as j,d as k};
